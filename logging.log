2025-07-18 00:22:27 | INFO     | main                      | ================================================================================
2025-07-18 00:22:27 | INFO     | main                      | STARTING NIR PHANTOM DATASET GENERATION PIPELINE
2025-07-18 00:22:27 | INFO     | main                      | ================================================================================
2025-07-18 00:22:27 | INFO     | main                      | Output directory: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 00:22:27 | INFO     | main                      | Log file: ../logging.log
2025-07-18 00:22:27 | INFO     | main                      | Visualization mode: ENABLED (Development)
2025-07-18 00:22:27 | INFO     | main                      | Generating 5 phantom datasets for machine learning training
2025-07-18 00:22:27 | INFO     | main                      | Expected dataset size: 5 phantoms × 500 probes × 3 detectors = 7,500 tokens
2025-07-18 00:22:27 | INFO     | main                      | ============================================================
2025-07-18 00:22:27 | INFO     | main                      | GENERATING PHANTOM 01/5
2025-07-18 00:22:27 | INFO     | main                      | ============================================================
2025-07-18 00:22:27 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:22:27 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 1 tumor(s) with enhanced spatial constraints
2025-07-18 00:22:27 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 1/1 tumors in tissue
2025-07-18 00:22:27 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 34.0% tissue coverage
2025-07-18 00:22:27 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:22:27 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:22:30 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,989 tetrahedra, 7,586 nodes
2025-07-18 00:22:30 | INFO     | create_stndmesh           | Mesh statistics: 40989 tetrahedra, 7586 nodes
2025-07-18 00:22:30 | INFO     | create_stndmesh           | Element volume statistics: 1.030 ± 0.200 mm³
2025-07-18 00:22:30 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:22:30 | INFO     | assign_optical_properties | Starting optical property assignment for 2 tissue regions
2025-07-18 00:22:30 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:22:30 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:22:30 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:22:30 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:22:30 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1501 surface points in realistic patch
2025-07-18 00:22:30 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:22:30 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:22:30 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:22:53 | INFO     | main                      | Generated INTERACTIVE 3D visualization for phantom 1 probe 1 (for professor demo)
2025-07-18 00:22:53 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:22:53 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:22:54 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:23:04 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:23:04 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_01/phantom_001_scan.h5
2025-07-18 00:23:04 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_01/phantom_001_scan.h5 (2.1 MB)
2025-07-18 00:23:04 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:23:04 | INFO     | main                      | ✓ PHANTOM 01 COMPLETED in 37.0s
2025-07-18 00:23:04 | INFO     | main                      | ============================================================
2025-07-18 00:23:04 | INFO     | main                      | GENERATING PHANTOM 02/5
2025-07-18 00:23:04 | INFO     | main                      | ============================================================
2025-07-18 00:23:04 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:23:04 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 00:23:04 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 00:23:04 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 37.3% tissue coverage
2025-07-18 00:23:04 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:23:04 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:23:07 | INFO     | mesh_volume               | ✓ Mesh generation completed - 44,970 tetrahedra, 8,282 nodes
2025-07-18 00:23:07 | INFO     | create_stndmesh           | Mesh statistics: 44970 tetrahedra, 8282 nodes
2025-07-18 00:23:07 | INFO     | create_stndmesh           | Element volume statistics: 1.029 ± 0.204 mm³
2025-07-18 00:23:07 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:23:07 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 00:23:07 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:23:08 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:23:08 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:23:08 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:23:08 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1573 surface points in realistic patch
2025-07-18 00:23:08 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:23:08 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:23:08 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:23:08 | INFO     | main                      | Generated PNG visualization for phantom 2 probe 1 (saved to ../data/phantom_02/probe_001.png)
2025-07-18 00:23:08 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:23:08 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:23:08 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:23:19 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:23:19 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_02/phantom_002_scan.h5
2025-07-18 00:23:19 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_02/phantom_002_scan.h5 (2.1 MB)
2025-07-18 00:23:19 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:23:19 | INFO     | main                      | ✓ PHANTOM 02 COMPLETED in 14.8s
2025-07-18 00:23:19 | INFO     | main                      | ============================================================
2025-07-18 00:23:19 | INFO     | main                      | GENERATING PHANTOM 03/5
2025-07-18 00:23:19 | INFO     | main                      | ============================================================
2025-07-18 00:23:19 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:23:19 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 0 tumor(s) with enhanced spatial constraints
2025-07-18 00:23:19 | INFO     | build_phantom_with_tissue_and_tumours | No tumors placed in this phantom
2025-07-18 00:23:19 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 33.9% tissue coverage
2025-07-18 00:23:19 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:23:19 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:23:22 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,707 tetrahedra, 7,535 nodes
2025-07-18 00:23:22 | INFO     | create_stndmesh           | Mesh statistics: 40707 tetrahedra, 7535 nodes
2025-07-18 00:23:22 | INFO     | create_stndmesh           | Element volume statistics: 1.036 ± 0.198 mm³
2025-07-18 00:23:22 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:23:22 | INFO     | assign_optical_properties | Starting optical property assignment for 1 tissue regions
2025-07-18 00:23:22 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:23:22 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:23:22 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:23:22 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:23:22 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1567 surface points in realistic patch
2025-07-18 00:23:22 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:23:22 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:23:22 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:23:22 | INFO     | main                      | Generated PNG visualization for phantom 3 probe 1 (saved to ../data/phantom_03/probe_001.png)
2025-07-18 00:23:22 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:23:22 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:23:23 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:23:34 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:23:34 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_03/phantom_003_scan.h5
2025-07-18 00:23:34 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_03/phantom_003_scan.h5 (2.1 MB)
2025-07-18 00:23:34 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:23:34 | INFO     | main                      | ✓ PHANTOM 03 COMPLETED in 14.9s
2025-07-18 00:23:34 | INFO     | main                      | ============================================================
2025-07-18 00:23:34 | INFO     | main                      | GENERATING PHANTOM 04/5
2025-07-18 00:23:34 | INFO     | main                      | ============================================================
2025-07-18 00:23:34 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:23:34 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 4 tumor(s) with enhanced spatial constraints
2025-07-18 00:23:34 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 4/4 tumors in tissue
2025-07-18 00:23:34 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 32.4% tissue coverage
2025-07-18 00:23:34 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:23:34 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:23:37 | INFO     | mesh_volume               | ✓ Mesh generation completed - 39,160 tetrahedra, 7,270 nodes
2025-07-18 00:23:37 | INFO     | create_stndmesh           | Mesh statistics: 39160 tetrahedra, 7270 nodes
2025-07-18 00:23:37 | INFO     | create_stndmesh           | Element volume statistics: 1.029 ± 0.214 mm³
2025-07-18 00:23:37 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:23:37 | INFO     | assign_optical_properties | Starting optical property assignment for 5 tissue regions
2025-07-18 00:23:37 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:23:37 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:23:37 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:23:37 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:23:37 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1493 surface points in realistic patch
2025-07-18 00:23:37 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:23:37 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:23:37 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:23:38 | INFO     | main                      | Generated PNG visualization for phantom 4 probe 1 (saved to ../data/phantom_04/probe_001.png)
2025-07-18 00:23:38 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:23:38 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:23:38 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:23:48 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:23:48 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_04/phantom_004_scan.h5
2025-07-18 00:23:48 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_04/phantom_004_scan.h5 (2.1 MB)
2025-07-18 00:23:48 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:23:48 | INFO     | main                      | ✓ PHANTOM 04 COMPLETED in 14.2s
2025-07-18 00:23:48 | INFO     | main                      | ============================================================
2025-07-18 00:23:48 | INFO     | main                      | GENERATING PHANTOM 05/5
2025-07-18 00:23:48 | INFO     | main                      | ============================================================
2025-07-18 00:23:48 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:23:48 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 00:23:48 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 00:23:48 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 29.6% tissue coverage
2025-07-18 00:23:48 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:23:48 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:23:50 | INFO     | mesh_volume               | ✓ Mesh generation completed - 35,601 tetrahedra, 6,632 nodes
2025-07-18 00:23:51 | INFO     | create_stndmesh           | Mesh statistics: 35601 tetrahedra, 6632 nodes
2025-07-18 00:23:51 | INFO     | create_stndmesh           | Element volume statistics: 1.031 ± 0.206 mm³
2025-07-18 00:23:51 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:23:51 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 00:23:51 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:23:51 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:23:51 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:23:51 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:23:51 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1337 surface points in realistic patch
2025-07-18 00:23:51 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:23:51 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:23:51 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:23:51 | INFO     | main                      | Generated PNG visualization for phantom 5 probe 1 (saved to ../data/phantom_05/probe_001.png)
2025-07-18 00:23:51 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:23:51 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:23:51 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:24:01 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:24:01 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_05/phantom_005_scan.h5
2025-07-18 00:24:01 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_05/phantom_005_scan.h5 (2.1 MB)
2025-07-18 00:24:01 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:24:01 | INFO     | main                      | ✓ PHANTOM 05 COMPLETED in 13.5s
2025-07-18 00:24:01 | INFO     | main                      | ================================================================================
2025-07-18 00:24:01 | INFO     | main                      | BATCH GENERATION COMPLETED SUCCESSFULLY
2025-07-18 00:24:01 | INFO     | main                      | ================================================================================
2025-07-18 00:24:01 | INFO     | main                      | Generated 5 complete phantom datasets
2025-07-18 00:24:01 | INFO     | main                      | Total processing time: 13.5s
2025-07-18 00:24:01 | INFO     | main                      | Output location: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 00:24:01 | INFO     | main                      | Dataset contents per phantom:
2025-07-18 00:24:01 | INFO     | main                      |   • HDF5 file with measurements, geometry, and ground truth
2025-07-18 00:24:01 | INFO     | main                      |   • Sample probe visualization (probe_001.png) for professor demonstration
2025-07-18 00:24:01 | INFO     | main                      |   • Enhanced visualizations enabled for development
2025-07-18 00:24:01 | INFO     | main                      |   • Complete metadata for reproducibility
2025-07-18 00:24:01 | INFO     | main                      | All phantoms generated and saved successfully!
2025-07-18 00:35:39 | INFO     | main                      | ================================================================================
2025-07-18 00:35:39 | INFO     | main                      | STARTING NIR PHANTOM DATASET GENERATION PIPELINE
2025-07-18 00:35:39 | INFO     | main                      | ================================================================================
2025-07-18 00:35:39 | INFO     | main                      | Output directory: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 00:35:39 | INFO     | main                      | Log file: ../logging.log
2025-07-18 00:35:39 | INFO     | main                      | Visualization mode: ENABLED (Development)
2025-07-18 00:35:39 | INFO     | main                      | Generating 5 phantom datasets for machine learning training
2025-07-18 00:35:39 | INFO     | main                      | Expected dataset size: 5 phantoms × 500 probes × 3 detectors = 7,500 tokens
2025-07-18 00:35:39 | INFO     | main                      | ============================================================
2025-07-18 00:35:39 | INFO     | main                      | GENERATING PHANTOM 01/5
2025-07-18 00:35:39 | INFO     | main                      | ============================================================
2025-07-18 00:35:39 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:35:39 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 1 tumor(s) with enhanced spatial constraints
2025-07-18 00:35:39 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 1/1 tumors in tissue
2025-07-18 00:35:39 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 34.0% tissue coverage
2025-07-18 00:35:39 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:35:39 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:35:42 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,989 tetrahedra, 7,586 nodes
2025-07-18 00:35:42 | INFO     | create_stndmesh           | Mesh statistics: 40989 tetrahedra, 7586 nodes
2025-07-18 00:35:42 | INFO     | create_stndmesh           | Element volume statistics: 1.030 ± 0.200 mm³
2025-07-18 00:35:42 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:35:42 | INFO     | assign_optical_properties | Starting optical property assignment for 2 tissue regions
2025-07-18 00:35:42 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:35:42 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:35:42 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:35:42 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:35:42 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1501 surface points in realistic patch
2025-07-18 00:35:42 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:35:42 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:35:42 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:36:47 | INFO     | main                      | Generated INTERACTIVE 3D visualization for phantom 1 probe 1 (for professor demo)
2025-07-18 00:36:47 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:36:47 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:36:47 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:36:58 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:36:58 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_01/phantom_001_scan.h5
2025-07-18 00:36:58 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_01/phantom_001_scan.h5 (2.1 MB)
2025-07-18 00:36:58 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:36:58 | INFO     | main                      | ✓ PHANTOM 01 COMPLETED in 78.7s
2025-07-18 00:36:58 | INFO     | main                      | ============================================================
2025-07-18 00:36:58 | INFO     | main                      | GENERATING PHANTOM 02/5
2025-07-18 00:36:58 | INFO     | main                      | ============================================================
2025-07-18 00:36:58 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:36:58 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 00:36:58 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 00:36:58 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 37.3% tissue coverage
2025-07-18 00:36:58 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:36:58 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:37:01 | INFO     | mesh_volume               | ✓ Mesh generation completed - 44,970 tetrahedra, 8,282 nodes
2025-07-18 00:37:01 | INFO     | create_stndmesh           | Mesh statistics: 44970 tetrahedra, 8282 nodes
2025-07-18 00:37:01 | INFO     | create_stndmesh           | Element volume statistics: 1.029 ± 0.204 mm³
2025-07-18 00:37:01 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:37:01 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 00:37:01 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:37:01 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:37:01 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:37:01 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:37:01 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1573 surface points in realistic patch
2025-07-18 00:37:01 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:37:01 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:37:01 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:37:01 | INFO     | main                      | Generated PNG visualization for phantom 2 probe 1 (saved to ../data/phantom_02/probe_001.png)
2025-07-18 00:37:01 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:37:01 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:37:02 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:37:13 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:37:13 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_02/phantom_002_scan.h5
2025-07-18 00:37:13 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_02/phantom_002_scan.h5 (2.1 MB)
2025-07-18 00:37:13 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:37:13 | INFO     | main                      | ✓ PHANTOM 02 COMPLETED in 15.0s
2025-07-18 00:37:13 | INFO     | main                      | ============================================================
2025-07-18 00:37:13 | INFO     | main                      | GENERATING PHANTOM 03/5
2025-07-18 00:37:13 | INFO     | main                      | ============================================================
2025-07-18 00:37:13 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:37:13 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 0 tumor(s) with enhanced spatial constraints
2025-07-18 00:37:13 | INFO     | build_phantom_with_tissue_and_tumours | No tumors placed in this phantom
2025-07-18 00:37:13 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 33.9% tissue coverage
2025-07-18 00:37:13 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:37:13 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:37:16 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,707 tetrahedra, 7,535 nodes
2025-07-18 00:37:16 | INFO     | create_stndmesh           | Mesh statistics: 40707 tetrahedra, 7535 nodes
2025-07-18 00:37:16 | INFO     | create_stndmesh           | Element volume statistics: 1.036 ± 0.198 mm³
2025-07-18 00:37:16 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:37:16 | INFO     | assign_optical_properties | Starting optical property assignment for 1 tissue regions
2025-07-18 00:37:16 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:37:16 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:37:16 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:37:16 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:37:16 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1567 surface points in realistic patch
2025-07-18 00:37:16 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:37:16 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:37:16 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:37:16 | INFO     | main                      | Generated PNG visualization for phantom 3 probe 1 (saved to ../data/phantom_03/probe_001.png)
2025-07-18 00:37:16 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:37:16 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:37:17 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:49:37 | INFO     | main                      | ================================================================================
2025-07-18 00:49:37 | INFO     | main                      | STARTING NIR PHANTOM DATASET GENERATION PIPELINE
2025-07-18 00:49:37 | INFO     | main                      | ================================================================================
2025-07-18 00:49:37 | INFO     | main                      | Output directory: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 00:49:37 | INFO     | main                      | Log file: ../logging.log
2025-07-18 00:49:37 | INFO     | main                      | Visualization mode: ENABLED (Development)
2025-07-18 00:49:37 | INFO     | main                      | Generating 5 phantom datasets for machine learning training
2025-07-18 00:49:37 | INFO     | main                      | Expected dataset size: 5 phantoms × 500 probes × 3 detectors = 7,500 tokens
2025-07-18 00:49:37 | INFO     | main                      | ============================================================
2025-07-18 00:49:37 | INFO     | main                      | GENERATING PHANTOM 01/5
2025-07-18 00:49:37 | INFO     | main                      | ============================================================
2025-07-18 00:49:37 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:49:37 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 1 tumor(s) with enhanced spatial constraints
2025-07-18 00:49:37 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 1/1 tumors in tissue
2025-07-18 00:49:37 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 34.0% tissue coverage
2025-07-18 00:49:37 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:49:37 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:49:40 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,989 tetrahedra, 7,586 nodes
2025-07-18 00:49:40 | INFO     | create_stndmesh           | Mesh statistics: 40989 tetrahedra, 7586 nodes
2025-07-18 00:49:40 | INFO     | create_stndmesh           | Element volume statistics: 1.030 ± 0.200 mm³
2025-07-18 00:49:40 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:49:40 | INFO     | assign_optical_properties | Starting optical property assignment for 2 tissue regions
2025-07-18 00:49:40 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:49:40 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:49:40 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:49:40 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:49:40 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1501 surface points in realistic patch
2025-07-18 00:49:40 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:49:40 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:49:40 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:50:11 | INFO     | main                      | Generated INTERACTIVE 3D visualization for phantom 1 probe 1 (for professor demo)
2025-07-18 00:50:11 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:50:11 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:50:12 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:50:22 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:50:22 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_01/phantom_001_scan.h5
2025-07-18 00:50:22 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_01/phantom_001_scan.h5 (2.1 MB)
2025-07-18 00:50:22 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:50:22 | INFO     | main                      | ✓ PHANTOM 01 COMPLETED in 45.6s
2025-07-18 00:50:22 | INFO     | main                      | ============================================================
2025-07-18 00:50:22 | INFO     | main                      | GENERATING PHANTOM 02/5
2025-07-18 00:50:22 | INFO     | main                      | ============================================================
2025-07-18 00:50:22 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:50:22 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 00:50:22 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 00:50:22 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 37.3% tissue coverage
2025-07-18 00:50:22 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:50:22 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:50:26 | INFO     | mesh_volume               | ✓ Mesh generation completed - 44,970 tetrahedra, 8,282 nodes
2025-07-18 00:50:26 | INFO     | create_stndmesh           | Mesh statistics: 44970 tetrahedra, 8282 nodes
2025-07-18 00:50:26 | INFO     | create_stndmesh           | Element volume statistics: 1.029 ± 0.204 mm³
2025-07-18 00:50:26 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:50:26 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 00:50:26 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:50:26 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:50:26 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:50:26 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:50:26 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1573 surface points in realistic patch
2025-07-18 00:50:26 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:50:26 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:50:26 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:50:26 | INFO     | main                      | Generated PNG visualization for phantom 2 probe 1 (saved to ../data/phantom_02/probe_001.png)
2025-07-18 00:50:26 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:50:26 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:50:27 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:50:37 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:50:37 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_02/phantom_002_scan.h5
2025-07-18 00:50:37 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_02/phantom_002_scan.h5 (2.1 MB)
2025-07-18 00:50:37 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:50:37 | INFO     | main                      | ✓ PHANTOM 02 COMPLETED in 14.6s
2025-07-18 00:50:37 | INFO     | main                      | ============================================================
2025-07-18 00:50:37 | INFO     | main                      | GENERATING PHANTOM 03/5
2025-07-18 00:50:37 | INFO     | main                      | ============================================================
2025-07-18 00:50:37 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:50:37 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 0 tumor(s) with enhanced spatial constraints
2025-07-18 00:50:37 | INFO     | build_phantom_with_tissue_and_tumours | No tumors placed in this phantom
2025-07-18 00:50:37 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 33.9% tissue coverage
2025-07-18 00:50:37 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:50:37 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:50:40 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,707 tetrahedra, 7,535 nodes
2025-07-18 00:50:40 | INFO     | create_stndmesh           | Mesh statistics: 40707 tetrahedra, 7535 nodes
2025-07-18 00:50:40 | INFO     | create_stndmesh           | Element volume statistics: 1.036 ± 0.198 mm³
2025-07-18 00:50:40 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:50:40 | INFO     | assign_optical_properties | Starting optical property assignment for 1 tissue regions
2025-07-18 00:50:40 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:50:40 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:50:40 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:50:40 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:50:40 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1567 surface points in realistic patch
2025-07-18 00:50:40 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:50:40 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:50:40 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:50:40 | INFO     | main                      | Generated PNG visualization for phantom 3 probe 1 (saved to ../data/phantom_03/probe_001.png)
2025-07-18 00:50:40 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:50:40 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:50:41 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:50:52 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:50:52 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_03/phantom_003_scan.h5
2025-07-18 00:50:52 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_03/phantom_003_scan.h5 (2.1 MB)
2025-07-18 00:50:52 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:50:52 | INFO     | main                      | ✓ PHANTOM 03 COMPLETED in 15.2s
2025-07-18 00:50:52 | INFO     | main                      | ============================================================
2025-07-18 00:50:52 | INFO     | main                      | GENERATING PHANTOM 04/5
2025-07-18 00:50:52 | INFO     | main                      | ============================================================
2025-07-18 00:50:52 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:50:52 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 4 tumor(s) with enhanced spatial constraints
2025-07-18 00:50:52 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 4/4 tumors in tissue
2025-07-18 00:50:52 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 32.4% tissue coverage
2025-07-18 00:50:52 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:50:52 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:50:55 | INFO     | mesh_volume               | ✓ Mesh generation completed - 39,160 tetrahedra, 7,270 nodes
2025-07-18 00:50:55 | INFO     | create_stndmesh           | Mesh statistics: 39160 tetrahedra, 7270 nodes
2025-07-18 00:50:55 | INFO     | create_stndmesh           | Element volume statistics: 1.029 ± 0.214 mm³
2025-07-18 00:50:55 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:50:55 | INFO     | assign_optical_properties | Starting optical property assignment for 5 tissue regions
2025-07-18 00:50:55 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:50:55 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:50:55 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:50:55 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:50:55 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1493 surface points in realistic patch
2025-07-18 00:50:55 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:50:55 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:50:55 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:50:56 | INFO     | main                      | Generated PNG visualization for phantom 4 probe 1 (saved to ../data/phantom_04/probe_001.png)
2025-07-18 00:50:56 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:50:56 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:50:56 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:51:06 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:51:06 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_04/phantom_004_scan.h5
2025-07-18 00:51:06 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_04/phantom_004_scan.h5 (2.1 MB)
2025-07-18 00:51:06 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:51:06 | INFO     | main                      | ✓ PHANTOM 04 COMPLETED in 13.8s
2025-07-18 00:51:06 | INFO     | main                      | ============================================================
2025-07-18 00:51:06 | INFO     | main                      | GENERATING PHANTOM 05/5
2025-07-18 00:51:06 | INFO     | main                      | ============================================================
2025-07-18 00:51:06 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:51:06 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 00:51:06 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 00:51:06 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 29.6% tissue coverage
2025-07-18 00:51:06 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:51:06 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:51:08 | INFO     | mesh_volume               | ✓ Mesh generation completed - 35,601 tetrahedra, 6,632 nodes
2025-07-18 00:51:09 | INFO     | create_stndmesh           | Mesh statistics: 35601 tetrahedra, 6632 nodes
2025-07-18 00:51:09 | INFO     | create_stndmesh           | Element volume statistics: 1.031 ± 0.206 mm³
2025-07-18 00:51:09 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:51:09 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 00:51:09 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:51:09 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:51:09 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:51:09 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:51:09 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1337 surface points in realistic patch
2025-07-18 00:51:09 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:51:09 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:51:09 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:51:09 | INFO     | main                      | Generated PNG visualization for phantom 5 probe 1 (saved to ../data/phantom_05/probe_001.png)
2025-07-18 00:51:09 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:51:09 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:51:09 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:51:20 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:51:20 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_05/phantom_005_scan.h5
2025-07-18 00:51:20 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_05/phantom_005_scan.h5 (2.1 MB)
2025-07-18 00:51:20 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:51:20 | INFO     | main                      | ✓ PHANTOM 05 COMPLETED in 13.7s
2025-07-18 00:51:20 | INFO     | main                      | ================================================================================
2025-07-18 00:51:20 | INFO     | main                      | BATCH GENERATION COMPLETED SUCCESSFULLY
2025-07-18 00:51:20 | INFO     | main                      | ================================================================================
2025-07-18 00:51:20 | INFO     | main                      | Generated 5 complete phantom datasets
2025-07-18 00:51:20 | INFO     | main                      | Total processing time: 13.7s
2025-07-18 00:51:20 | INFO     | main                      | Output location: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 00:51:20 | INFO     | main                      | Dataset contents per phantom:
2025-07-18 00:51:20 | INFO     | main                      |   • HDF5 file with measurements, geometry, and ground truth
2025-07-18 00:51:20 | INFO     | main                      |   • Sample probe visualization (probe_001.png) for professor demonstration
2025-07-18 00:51:20 | INFO     | main                      |   • Enhanced visualizations enabled for development
2025-07-18 00:51:20 | INFO     | main                      |   • Complete metadata for reproducibility
2025-07-18 00:51:20 | INFO     | main                      | All phantoms generated and saved successfully!
2025-07-18 00:58:17 | INFO     | main                      | ================================================================================
2025-07-18 00:58:17 | INFO     | main                      | STARTING NIR PHANTOM DATASET GENERATION PIPELINE
2025-07-18 00:58:17 | INFO     | main                      | ================================================================================
2025-07-18 00:58:17 | INFO     | main                      | Output directory: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 00:58:17 | INFO     | main                      | Log file: ../logging.log
2025-07-18 00:58:17 | INFO     | main                      | Visualization mode: ENABLED (Development)
2025-07-18 00:58:17 | INFO     | main                      | Generating 3 phantom datasets for machine learning training
2025-07-18 00:58:17 | INFO     | main                      | Expected dataset size: 3 phantoms × 500 probes × 3 detectors = 4,500 tokens
2025-07-18 00:58:17 | INFO     | main                      | ============================================================
2025-07-18 00:58:17 | INFO     | main                      | GENERATING PHANTOM 01/3
2025-07-18 00:58:17 | INFO     | main                      | ============================================================
2025-07-18 00:58:17 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:58:17 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 1 tumor(s) with enhanced spatial constraints
2025-07-18 00:58:17 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 1/1 tumors in tissue
2025-07-18 00:58:17 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 34.0% tissue coverage
2025-07-18 00:58:17 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:58:17 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:58:20 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,989 tetrahedra, 7,586 nodes
2025-07-18 00:58:20 | INFO     | create_stndmesh           | Mesh statistics: 40989 tetrahedra, 7586 nodes
2025-07-18 00:58:20 | INFO     | create_stndmesh           | Element volume statistics: 1.030 ± 0.200 mm³
2025-07-18 00:58:20 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:58:20 | INFO     | assign_optical_properties | Starting optical property assignment for 2 tissue regions
2025-07-18 00:58:20 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:58:20 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:58:20 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:58:20 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:58:21 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1501 surface points in realistic patch
2025-07-18 00:58:21 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:58:21 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:58:21 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:58:28 | INFO     | main                      | Generated INTERACTIVE 3D visualization for phantom 1 probe 1 (for professor demo)
2025-07-18 00:58:28 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:58:28 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:58:29 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:58:39 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:58:39 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_01/phantom_001_scan.h5
2025-07-18 00:58:39 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_01/phantom_001_scan.h5 (2.1 MB)
2025-07-18 00:58:39 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:58:39 | INFO     | main                      | ✓ PHANTOM 01 COMPLETED in 22.2s
2025-07-18 00:58:39 | INFO     | main                      | ============================================================
2025-07-18 00:58:39 | INFO     | main                      | GENERATING PHANTOM 02/3
2025-07-18 00:58:39 | INFO     | main                      | ============================================================
2025-07-18 00:58:39 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:58:39 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 00:58:39 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 00:58:39 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 37.3% tissue coverage
2025-07-18 00:58:39 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:58:39 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:58:42 | INFO     | mesh_volume               | ✓ Mesh generation completed - 44,970 tetrahedra, 8,282 nodes
2025-07-18 00:58:43 | INFO     | create_stndmesh           | Mesh statistics: 44970 tetrahedra, 8282 nodes
2025-07-18 00:58:43 | INFO     | create_stndmesh           | Element volume statistics: 1.029 ± 0.204 mm³
2025-07-18 00:58:43 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:58:43 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 00:58:43 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:58:43 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:58:43 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:58:43 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:58:43 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1573 surface points in realistic patch
2025-07-18 00:58:43 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:58:43 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:58:43 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:58:43 | INFO     | main                      | Generated PNG visualization for phantom 2 probe 1 (saved to ../data/phantom_02/probe_001.png)
2025-07-18 00:58:43 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:58:43 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:58:44 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:58:54 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:58:54 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_02/phantom_002_scan.h5
2025-07-18 00:58:54 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_02/phantom_002_scan.h5 (2.1 MB)
2025-07-18 00:58:54 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:58:54 | INFO     | main                      | ✓ PHANTOM 02 COMPLETED in 14.6s
2025-07-18 00:58:54 | INFO     | main                      | ============================================================
2025-07-18 00:58:54 | INFO     | main                      | GENERATING PHANTOM 03/3
2025-07-18 00:58:54 | INFO     | main                      | ============================================================
2025-07-18 00:58:54 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 00:58:54 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 0 tumor(s) with enhanced spatial constraints
2025-07-18 00:58:54 | INFO     | build_phantom_with_tissue_and_tumours | No tumors placed in this phantom
2025-07-18 00:58:54 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 33.9% tissue coverage
2025-07-18 00:58:54 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 00:58:54 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 00:58:57 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,707 tetrahedra, 7,535 nodes
2025-07-18 00:58:57 | INFO     | create_stndmesh           | Mesh statistics: 40707 tetrahedra, 7535 nodes
2025-07-18 00:58:57 | INFO     | create_stndmesh           | Element volume statistics: 1.036 ± 0.198 mm³
2025-07-18 00:58:57 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 00:58:57 | INFO     | assign_optical_properties | Starting optical property assignment for 1 tissue regions
2025-07-18 00:58:57 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 00:58:57 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 00:58:57 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 00:58:57 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 00:58:57 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1567 surface points in realistic patch
2025-07-18 00:58:57 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 00:58:57 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 00:58:57 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 00:58:57 | INFO     | main                      | Generated PNG visualization for phantom 3 probe 1 (saved to ../data/phantom_03/probe_001.png)
2025-07-18 00:58:57 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 00:58:57 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 00:58:58 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 00:59:08 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 00:59:08 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_03/phantom_003_scan.h5
2025-07-18 00:59:08 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_03/phantom_003_scan.h5 (2.1 MB)
2025-07-18 00:59:08 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 00:59:08 | INFO     | main                      | ✓ PHANTOM 03 COMPLETED in 14.0s
2025-07-18 00:59:08 | INFO     | main                      | ================================================================================
2025-07-18 00:59:08 | INFO     | main                      | BATCH GENERATION COMPLETED SUCCESSFULLY
2025-07-18 00:59:08 | INFO     | main                      | ================================================================================
2025-07-18 00:59:08 | INFO     | main                      | Generated 3 complete phantom datasets
2025-07-18 00:59:08 | INFO     | main                      | Total processing time: 14.0s
2025-07-18 00:59:08 | INFO     | main                      | Output location: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 00:59:08 | INFO     | main                      | Dataset contents per phantom:
2025-07-18 00:59:08 | INFO     | main                      |   • HDF5 file with measurements, geometry, and ground truth
2025-07-18 00:59:08 | INFO     | main                      |   • Sample probe visualization (probe_001.png) for professor demonstration
2025-07-18 00:59:08 | INFO     | main                      |   • Enhanced visualizations enabled for development
2025-07-18 00:59:08 | INFO     | main                      |   • Complete metadata for reproducibility
2025-07-18 00:59:08 | INFO     | main                      | All phantoms generated and saved successfully!
2025-07-18 01:11:31 | INFO     | main                      | ================================================================================
2025-07-18 01:11:31 | INFO     | main                      | STARTING NIR PHANTOM DATASET GENERATION PIPELINE
2025-07-18 01:11:31 | INFO     | main                      | ================================================================================
2025-07-18 01:11:31 | INFO     | main                      | Output directory: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 01:11:31 | INFO     | main                      | Log file: ../logging.log
2025-07-18 01:11:31 | INFO     | main                      | Visualization mode: ENABLED (Development)
2025-07-18 01:11:31 | INFO     | main                      | Generating 3 phantom datasets for machine learning training
2025-07-18 01:11:31 | INFO     | main                      | Expected dataset size: 3 phantoms × 500 probes × 3 detectors = 4,500 tokens
2025-07-18 01:11:31 | INFO     | main                      | ============================================================
2025-07-18 01:11:31 | INFO     | main                      | GENERATING PHANTOM 01/3
2025-07-18 01:11:31 | INFO     | main                      | ============================================================
2025-07-18 01:11:31 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 01:11:31 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 1 tumor(s) with enhanced spatial constraints
2025-07-18 01:11:31 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 1/1 tumors in tissue
2025-07-18 01:11:31 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 34.0% tissue coverage
2025-07-18 01:11:31 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 01:11:31 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 01:11:34 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,989 tetrahedra, 7,586 nodes
2025-07-18 01:11:34 | INFO     | create_stndmesh           | Mesh statistics: 40989 tetrahedra, 7586 nodes
2025-07-18 01:11:34 | INFO     | create_stndmesh           | Element volume statistics: 1.030 ± 0.200 mm³
2025-07-18 01:11:34 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 01:11:34 | INFO     | assign_optical_properties | Starting optical property assignment for 2 tissue regions
2025-07-18 01:11:34 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 01:11:34 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 01:11:34 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 01:11:34 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 01:11:34 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1501 surface points in realistic patch
2025-07-18 01:11:34 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 01:11:34 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 01:11:34 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 01:14:02 | INFO     | main                      | Generated INTERACTIVE 3D visualization for phantom 1 probe 1 (for professor demo)
2025-07-18 01:14:02 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 01:14:02 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 01:14:03 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 01:14:13 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 01:14:13 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_01/phantom_001_scan.h5
2025-07-18 01:14:13 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_01/phantom_001_scan.h5 (2.1 MB)
2025-07-18 01:14:13 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 01:14:13 | INFO     | main                      | ✓ PHANTOM 01 COMPLETED in 162.3s
2025-07-18 01:14:13 | INFO     | main                      | ============================================================
2025-07-18 01:14:13 | INFO     | main                      | GENERATING PHANTOM 02/3
2025-07-18 01:14:13 | INFO     | main                      | ============================================================
2025-07-18 01:14:13 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 01:14:13 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 01:14:13 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 01:14:13 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 37.3% tissue coverage
2025-07-18 01:14:13 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 01:14:13 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 01:14:16 | INFO     | mesh_volume               | ✓ Mesh generation completed - 44,970 tetrahedra, 8,282 nodes
2025-07-18 01:14:16 | INFO     | create_stndmesh           | Mesh statistics: 44970 tetrahedra, 8282 nodes
2025-07-18 01:14:16 | INFO     | create_stndmesh           | Element volume statistics: 1.029 ± 0.204 mm³
2025-07-18 01:14:16 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 01:14:16 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 01:14:16 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 01:14:16 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 01:14:16 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 01:14:16 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 01:14:16 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1573 surface points in realistic patch
2025-07-18 01:14:16 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 01:14:17 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 01:14:17 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 01:14:17 | INFO     | main                      | Generated PNG visualization for phantom 2 probe 1 (saved to ../data/phantom_02/probe_001.png)
2025-07-18 01:14:17 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 01:14:17 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 01:14:17 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 01:14:29 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 01:14:29 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_02/phantom_002_scan.h5
2025-07-18 01:14:29 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_02/phantom_002_scan.h5 (2.1 MB)
2025-07-18 01:14:29 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 01:14:29 | INFO     | main                      | ✓ PHANTOM 02 COMPLETED in 16.3s
2025-07-18 01:14:29 | INFO     | main                      | ============================================================
2025-07-18 01:14:29 | INFO     | main                      | GENERATING PHANTOM 03/3
2025-07-18 01:14:29 | INFO     | main                      | ============================================================
2025-07-18 01:14:29 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 01:14:29 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 0 tumor(s) with enhanced spatial constraints
2025-07-18 01:14:29 | INFO     | build_phantom_with_tissue_and_tumours | No tumors placed in this phantom
2025-07-18 01:14:29 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 33.9% tissue coverage
2025-07-18 01:14:29 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 01:14:29 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 01:14:33 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,707 tetrahedra, 7,535 nodes
2025-07-18 01:14:33 | INFO     | create_stndmesh           | Mesh statistics: 40707 tetrahedra, 7535 nodes
2025-07-18 01:14:33 | INFO     | create_stndmesh           | Element volume statistics: 1.036 ± 0.198 mm³
2025-07-18 01:14:33 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 01:14:33 | INFO     | assign_optical_properties | Starting optical property assignment for 1 tissue regions
2025-07-18 01:14:33 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 01:14:33 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 01:14:33 | INFO     | main                      | Step 4/6: Generating realistic probe layout
2025-07-18 01:14:33 | INFO     | extract_realistic_patch_surface |   Extracting realistic 35x35mm surface patch for clinical imaging
2025-07-18 01:14:33 | INFO     | extract_realistic_patch_surface |   ✓ Generated 1567 surface points in realistic patch
2025-07-18 01:14:33 | INFO     | build_random_probe_layout | Starting probe layout generation - 500 probes (distance range: 10-40mm)
2025-07-18 01:14:33 | INFO     | build_random_probe_layout | ✓ Probe layout completed - 500/500 probes placed (1500 measurements)
2025-07-18 01:14:33 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 01:14:33 | INFO     | main                      | Generated PNG visualization for phantom 3 probe 1 (saved to ../data/phantom_03/probe_001.png)
2025-07-18 01:14:33 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 01:14:33 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 01:14:34 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 01:14:46 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 01:14:46 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_03/phantom_003_scan.h5
2025-07-18 01:14:46 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_03/phantom_003_scan.h5 (2.1 MB)
2025-07-18 01:14:46 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 01:14:46 | INFO     | main                      | ✓ PHANTOM 03 COMPLETED in 17.1s
2025-07-18 01:14:46 | INFO     | main                      | ================================================================================
2025-07-18 01:14:46 | INFO     | main                      | BATCH GENERATION COMPLETED SUCCESSFULLY
2025-07-18 01:14:46 | INFO     | main                      | ================================================================================
2025-07-18 01:14:46 | INFO     | main                      | Generated 3 complete phantom datasets
2025-07-18 01:14:46 | INFO     | main                      | Total processing time: 17.1s
2025-07-18 01:14:46 | INFO     | main                      | Output location: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 01:14:46 | INFO     | main                      | Dataset contents per phantom:
2025-07-18 01:14:46 | INFO     | main                      |   • HDF5 file with measurements, geometry, and ground truth
2025-07-18 01:14:46 | INFO     | main                      |   • Sample probe visualization (probe_001.png) for professor demonstration
2025-07-18 01:14:46 | INFO     | main                      |   • Enhanced visualizations enabled for development
2025-07-18 01:14:46 | INFO     | main                      |   • Complete metadata for reproducibility
2025-07-18 01:14:46 | INFO     | main                      | All phantoms generated and saved successfully!
2025-07-18 10:50:37 | INFO     | main                      | ================================================================================
2025-07-18 10:50:37 | INFO     | main                      | STARTING NIR PHANTOM DATASET GENERATION PIPELINE
2025-07-18 10:50:37 | INFO     | main                      | ================================================================================
2025-07-18 10:50:37 | INFO     | main                      | Output directory: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 10:50:37 | INFO     | main                      | Log file: ../logging.log
2025-07-18 10:50:37 | INFO     | main                      | Visualization mode: ENABLED (Development)
2025-07-18 10:50:37 | INFO     | main                      | Generating 5 phantom datasets for machine learning training
2025-07-18 10:50:37 | INFO     | main                      | Expected dataset size: 5 phantoms × 500 probes × 3 detectors = 7,500 tokens
2025-07-18 10:50:37 | INFO     | main                      | ============================================================
2025-07-18 10:50:37 | INFO     | main                      | GENERATING PHANTOM 01/5
2025-07-18 10:50:37 | INFO     | main                      | ============================================================
2025-07-18 10:50:37 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 10:50:37 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 1 tumor(s) with enhanced spatial constraints
2025-07-18 10:50:37 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 1/1 tumors in tissue
2025-07-18 10:50:37 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 34.0% tissue coverage
2025-07-18 10:50:37 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 10:50:37 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 10:50:40 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,989 tetrahedra, 7,586 nodes
2025-07-18 10:50:40 | INFO     | create_stndmesh           | Mesh statistics: 40989 tetrahedra, 7586 nodes
2025-07-18 10:50:40 | INFO     | create_stndmesh           | Element volume statistics: 1.030 ± 0.200 mm³
2025-07-18 10:50:40 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 10:50:40 | INFO     | assign_optical_properties | Starting optical property assignment for 2 tissue regions
2025-07-18 10:50:40 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 10:50:40 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 10:50:40 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 10:50:40 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 10:50:40 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 4,752 surface voxels identified
2025-07-18 10:50:40 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 10:50:40 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 20mm radius patch (SDS range: 10-40mm)
2025-07-18 10:50:40 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=20mm, min_voxels=100)
2025-07-18 10:50:40 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 4,752/4,752 valid centers (100.0%)
2025-07-18 10:50:40 | INFO     | build_patch_based_probe_layout | Selected patch center: (5.0, 20.0, 20.0)
2025-07-18 10:50:40 | INFO     | build_patch_based_probe_layout | Patch created: 1,051 surface voxels within 20mm radius
2025-07-18 10:50:40 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 10:50:40 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 10:50:40 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 10:51:16 | INFO     | main                      | Generated INTERACTIVE 3D visualization for phantom 1 probe 1 (for professor demo)
2025-07-18 10:51:16 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 10:51:16 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 10:51:16 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 10:51:26 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 10:51:26 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_01/phantom_001_scan.h5
2025-07-18 10:51:26 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_01/phantom_001_scan.h5 (2.1 MB)
2025-07-18 10:51:26 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 10:51:26 | INFO     | main                      | ✓ PHANTOM 01 COMPLETED in 49.3s
2025-07-18 10:51:26 | INFO     | main                      | ============================================================
2025-07-18 10:51:26 | INFO     | main                      | GENERATING PHANTOM 02/5
2025-07-18 10:51:26 | INFO     | main                      | ============================================================
2025-07-18 10:51:26 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 10:51:26 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 10:51:26 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 10:51:26 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 37.3% tissue coverage
2025-07-18 10:51:26 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 10:51:26 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 10:51:29 | INFO     | mesh_volume               | ✓ Mesh generation completed - 44,970 tetrahedra, 8,282 nodes
2025-07-18 10:51:30 | INFO     | create_stndmesh           | Mesh statistics: 44970 tetrahedra, 8282 nodes
2025-07-18 10:51:30 | INFO     | create_stndmesh           | Element volume statistics: 1.029 ± 0.204 mm³
2025-07-18 10:51:30 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 10:51:30 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 10:51:30 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 10:51:30 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 10:51:30 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 10:51:30 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 10:51:30 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 5,048 surface voxels identified
2025-07-18 10:51:30 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 10:51:30 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 20mm radius patch (SDS range: 10-40mm)
2025-07-18 10:51:30 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=20mm, min_voxels=100)
2025-07-18 10:51:30 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 5,048/5,048 valid centers (100.0%)
2025-07-18 10:51:30 | INFO     | build_patch_based_probe_layout | Selected patch center: (42.0, 16.0, 15.0)
2025-07-18 10:51:30 | INFO     | build_patch_based_probe_layout | Patch created: 1,059 surface voxels within 20mm radius
2025-07-18 10:51:30 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 10:51:30 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 10:51:30 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 10:51:30 | INFO     | main                      | Generated PNG visualization for phantom 2 probe 1 (saved to ../data/phantom_02/probe_001.png)
2025-07-18 10:51:30 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 10:51:30 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 10:51:31 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 10:51:41 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 10:51:41 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_02/phantom_002_scan.h5
2025-07-18 10:51:41 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_02/phantom_002_scan.h5 (2.1 MB)
2025-07-18 10:51:41 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 10:51:41 | INFO     | main                      | ✓ PHANTOM 02 COMPLETED in 14.7s
2025-07-18 10:51:41 | INFO     | main                      | ============================================================
2025-07-18 10:51:41 | INFO     | main                      | GENERATING PHANTOM 03/5
2025-07-18 10:51:41 | INFO     | main                      | ============================================================
2025-07-18 10:51:41 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 10:51:41 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 0 tumor(s) with enhanced spatial constraints
2025-07-18 10:51:41 | INFO     | build_phantom_with_tissue_and_tumours | No tumors placed in this phantom
2025-07-18 10:51:41 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 33.9% tissue coverage
2025-07-18 10:51:41 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 10:51:41 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 10:51:44 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,707 tetrahedra, 7,535 nodes
2025-07-18 10:51:44 | INFO     | create_stndmesh           | Mesh statistics: 40707 tetrahedra, 7535 nodes
2025-07-18 10:51:44 | INFO     | create_stndmesh           | Element volume statistics: 1.036 ± 0.198 mm³
2025-07-18 10:51:44 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 10:51:44 | INFO     | assign_optical_properties | Starting optical property assignment for 1 tissue regions
2025-07-18 10:51:44 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 10:51:44 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 10:51:44 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 10:51:44 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 10:51:44 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 4,742 surface voxels identified
2025-07-18 10:51:44 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 10:51:44 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 20mm radius patch (SDS range: 10-40mm)
2025-07-18 10:51:44 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=20mm, min_voxels=100)
2025-07-18 10:51:44 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 4,742/4,742 valid centers (100.0%)
2025-07-18 10:51:44 | INFO     | build_patch_based_probe_layout | Selected patch center: (23.0, 32.0, 4.0)
2025-07-18 10:51:44 | INFO     | build_patch_based_probe_layout | Patch created: 1,011 surface voxels within 20mm radius
2025-07-18 10:51:44 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 10:51:44 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 10:51:44 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 10:51:44 | INFO     | main                      | Generated PNG visualization for phantom 3 probe 1 (saved to ../data/phantom_03/probe_001.png)
2025-07-18 10:51:44 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 10:51:44 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 10:51:45 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 10:51:55 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 10:51:55 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_03/phantom_003_scan.h5
2025-07-18 10:51:55 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_03/phantom_003_scan.h5 (2.1 MB)
2025-07-18 10:51:55 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 10:51:55 | INFO     | main                      | ✓ PHANTOM 03 COMPLETED in 14.6s
2025-07-18 10:51:55 | INFO     | main                      | ============================================================
2025-07-18 10:51:55 | INFO     | main                      | GENERATING PHANTOM 04/5
2025-07-18 10:51:55 | INFO     | main                      | ============================================================
2025-07-18 10:51:55 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 10:51:55 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 4 tumor(s) with enhanced spatial constraints
2025-07-18 10:51:55 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 4/4 tumors in tissue
2025-07-18 10:51:55 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 32.4% tissue coverage
2025-07-18 10:51:55 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 10:51:55 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 10:51:58 | INFO     | mesh_volume               | ✓ Mesh generation completed - 39,160 tetrahedra, 7,270 nodes
2025-07-18 10:51:58 | INFO     | create_stndmesh           | Mesh statistics: 39160 tetrahedra, 7270 nodes
2025-07-18 10:51:58 | INFO     | create_stndmesh           | Element volume statistics: 1.029 ± 0.214 mm³
2025-07-18 10:51:58 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 10:51:58 | INFO     | assign_optical_properties | Starting optical property assignment for 5 tissue regions
2025-07-18 10:51:58 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 10:51:58 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 10:51:58 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 10:51:58 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 10:51:58 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 4,592 surface voxels identified
2025-07-18 10:51:58 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 10:51:58 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 20mm radius patch (SDS range: 10-40mm)
2025-07-18 10:51:58 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=20mm, min_voxels=100)
2025-07-18 10:51:58 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 4,592/4,592 valid centers (100.0%)
2025-07-18 10:51:58 | INFO     | build_patch_based_probe_layout | Selected patch center: (17.0, 43.0, 18.0)
2025-07-18 10:51:58 | INFO     | build_patch_based_probe_layout | Patch created: 1,071 surface voxels within 20mm radius
2025-07-18 10:51:58 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 10:51:58 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 10:51:58 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 10:51:59 | INFO     | main                      | Generated PNG visualization for phantom 4 probe 1 (saved to ../data/phantom_04/probe_001.png)
2025-07-18 10:51:59 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 10:51:59 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 10:51:59 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 10:52:09 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 10:52:09 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_04/phantom_004_scan.h5
2025-07-18 10:52:09 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_04/phantom_004_scan.h5 (2.1 MB)
2025-07-18 10:52:09 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 10:52:09 | INFO     | main                      | ✓ PHANTOM 04 COMPLETED in 13.6s
2025-07-18 10:52:09 | INFO     | main                      | ============================================================
2025-07-18 10:52:09 | INFO     | main                      | GENERATING PHANTOM 05/5
2025-07-18 10:52:09 | INFO     | main                      | ============================================================
2025-07-18 10:52:09 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 10:52:09 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 10:52:09 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 10:52:09 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 29.6% tissue coverage
2025-07-18 10:52:09 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 10:52:09 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 10:52:12 | INFO     | mesh_volume               | ✓ Mesh generation completed - 35,601 tetrahedra, 6,632 nodes
2025-07-18 10:52:12 | INFO     | create_stndmesh           | Mesh statistics: 35601 tetrahedra, 6632 nodes
2025-07-18 10:52:12 | INFO     | create_stndmesh           | Element volume statistics: 1.031 ± 0.206 mm³
2025-07-18 10:52:12 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 10:52:12 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 10:52:12 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 10:52:12 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 10:52:12 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 10:52:12 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 10:52:12 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 4,308 surface voxels identified
2025-07-18 10:52:12 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 10:52:12 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 20mm radius patch (SDS range: 10-40mm)
2025-07-18 10:52:12 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=20mm, min_voxels=100)
2025-07-18 10:52:12 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 4,308/4,308 valid centers (100.0%)
2025-07-18 10:52:12 | INFO     | build_patch_based_probe_layout | Selected patch center: (25.0, 42.0, 35.0)
2025-07-18 10:52:12 | INFO     | build_patch_based_probe_layout | Patch created: 1,053 surface voxels within 20mm radius
2025-07-18 10:52:12 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 10:52:12 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 10:52:12 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 10:52:12 | INFO     | main                      | Generated PNG visualization for phantom 5 probe 1 (saved to ../data/phantom_05/probe_001.png)
2025-07-18 10:52:12 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 10:52:12 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 10:52:13 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 10:52:22 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 10:52:22 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_05/phantom_005_scan.h5
2025-07-18 10:52:22 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_05/phantom_005_scan.h5 (2.1 MB)
2025-07-18 10:52:22 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 10:52:22 | INFO     | main                      | ✓ PHANTOM 05 COMPLETED in 13.5s
2025-07-18 10:52:22 | INFO     | main                      | ================================================================================
2025-07-18 10:52:22 | INFO     | main                      | BATCH GENERATION COMPLETED SUCCESSFULLY
2025-07-18 10:52:22 | INFO     | main                      | ================================================================================
2025-07-18 10:52:22 | INFO     | main                      | Generated 5 complete phantom datasets
2025-07-18 10:52:22 | INFO     | main                      | Total processing time: 13.5s
2025-07-18 10:52:22 | INFO     | main                      | Output location: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 10:52:22 | INFO     | main                      | Dataset contents per phantom:
2025-07-18 10:52:22 | INFO     | main                      |   • HDF5 file with measurements, geometry, and ground truth
2025-07-18 10:52:22 | INFO     | main                      |   • Sample probe visualization (probe_001.png) for professor demonstration
2025-07-18 10:52:22 | INFO     | main                      |   • Enhanced visualizations enabled for development
2025-07-18 10:52:22 | INFO     | main                      |   • Complete metadata for reproducibility
2025-07-18 10:52:22 | INFO     | main                      | All phantoms generated and saved successfully!
2025-07-18 10:59:43 | INFO     | main                      | ================================================================================
2025-07-18 10:59:43 | INFO     | main                      | STARTING NIR PHANTOM DATASET GENERATION PIPELINE
2025-07-18 10:59:43 | INFO     | main                      | ================================================================================
2025-07-18 10:59:43 | INFO     | main                      | Output directory: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 10:59:43 | INFO     | main                      | Log file: ../logging.log
2025-07-18 10:59:43 | INFO     | main                      | Visualization mode: ENABLED (Development)
2025-07-18 10:59:43 | INFO     | main                      | Generating 5 phantom datasets for machine learning training
2025-07-18 10:59:43 | INFO     | main                      | Expected dataset size: 5 phantoms × 500 probes × 3 detectors = 7,500 tokens
2025-07-18 10:59:43 | INFO     | main                      | ============================================================
2025-07-18 10:59:43 | INFO     | main                      | GENERATING PHANTOM 01/5
2025-07-18 10:59:43 | INFO     | main                      | ============================================================
2025-07-18 10:59:43 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 10:59:43 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 1 tumor(s) with enhanced spatial constraints
2025-07-18 10:59:43 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 1/1 tumors in tissue
2025-07-18 10:59:43 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 34.0% tissue coverage
2025-07-18 10:59:43 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 10:59:43 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 10:59:46 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,989 tetrahedra, 7,586 nodes
2025-07-18 10:59:46 | INFO     | create_stndmesh           | Mesh statistics: 40989 tetrahedra, 7586 nodes
2025-07-18 10:59:46 | INFO     | create_stndmesh           | Element volume statistics: 1.030 ± 0.200 mm³
2025-07-18 10:59:46 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 10:59:46 | INFO     | assign_optical_properties | Starting optical property assignment for 2 tissue regions
2025-07-18 10:59:46 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 10:59:46 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 10:59:46 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 10:59:46 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 10:59:46 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 4,752 surface voxels identified
2025-07-18 10:59:46 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 10:59:46 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 20mm radius patch (SDS range: 10-40mm)
2025-07-18 10:59:46 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=20mm, min_voxels=100)
2025-07-18 10:59:46 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 4,752/4,752 valid centers (100.0%)
2025-07-18 10:59:46 | INFO     | build_patch_based_probe_layout | Selected patch center: (5.0, 20.0, 20.0)
2025-07-18 10:59:46 | INFO     | build_patch_based_probe_layout | Patch created: 1,051 surface voxels within 20mm radius
2025-07-18 10:59:46 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 10:59:46 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 10:59:46 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 11:01:15 | INFO     | main                      | Generated INTERACTIVE 3D visualization for phantom 1 probe 1 (for professor demo)
2025-07-18 11:01:15 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 11:01:15 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 11:01:16 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 11:01:26 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 11:01:26 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_01/phantom_001_scan.h5
2025-07-18 11:01:26 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_01/phantom_001_scan.h5 (2.1 MB)
2025-07-18 11:01:26 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 11:01:26 | INFO     | main                      | ✓ PHANTOM 01 COMPLETED in 103.0s
2025-07-18 11:01:26 | INFO     | main                      | ============================================================
2025-07-18 11:01:26 | INFO     | main                      | GENERATING PHANTOM 02/5
2025-07-18 11:01:26 | INFO     | main                      | ============================================================
2025-07-18 11:01:26 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 11:01:26 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 11:01:26 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 11:01:26 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 37.3% tissue coverage
2025-07-18 11:01:26 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 11:01:26 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 11:01:29 | INFO     | mesh_volume               | ✓ Mesh generation completed - 44,970 tetrahedra, 8,282 nodes
2025-07-18 11:01:29 | INFO     | create_stndmesh           | Mesh statistics: 44970 tetrahedra, 8282 nodes
2025-07-18 11:01:29 | INFO     | create_stndmesh           | Element volume statistics: 1.029 ± 0.204 mm³
2025-07-18 11:01:29 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 11:01:29 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 11:01:29 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 11:01:29 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 11:01:29 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 11:01:29 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 11:01:29 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 5,048 surface voxels identified
2025-07-18 11:01:29 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 11:01:29 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 20mm radius patch (SDS range: 10-40mm)
2025-07-18 11:01:29 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=20mm, min_voxels=100)
2025-07-18 11:01:29 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 5,048/5,048 valid centers (100.0%)
2025-07-18 11:01:29 | INFO     | build_patch_based_probe_layout | Selected patch center: (42.0, 16.0, 15.0)
2025-07-18 11:01:29 | INFO     | build_patch_based_probe_layout | Patch created: 1,059 surface voxels within 20mm radius
2025-07-18 11:01:29 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 11:01:29 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 11:01:29 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 11:01:30 | INFO     | main                      | Generated PNG visualization for phantom 2 probe 1 (saved to ../data/phantom_02/probe_001.png)
2025-07-18 11:01:30 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 11:01:30 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 11:01:30 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 11:01:40 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 11:01:40 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_02/phantom_002_scan.h5
2025-07-18 11:01:40 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_02/phantom_002_scan.h5 (2.1 MB)
2025-07-18 11:01:40 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 11:01:40 | INFO     | main                      | ✓ PHANTOM 02 COMPLETED in 14.2s
2025-07-18 11:01:40 | INFO     | main                      | ============================================================
2025-07-18 11:01:40 | INFO     | main                      | GENERATING PHANTOM 03/5
2025-07-18 11:01:40 | INFO     | main                      | ============================================================
2025-07-18 11:01:40 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 11:01:40 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 0 tumor(s) with enhanced spatial constraints
2025-07-18 11:01:40 | INFO     | build_phantom_with_tissue_and_tumours | No tumors placed in this phantom
2025-07-18 11:01:40 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 33.9% tissue coverage
2025-07-18 11:01:40 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 11:01:40 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 11:01:43 | INFO     | mesh_volume               | ✓ Mesh generation completed - 40,707 tetrahedra, 7,535 nodes
2025-07-18 11:01:43 | INFO     | create_stndmesh           | Mesh statistics: 40707 tetrahedra, 7535 nodes
2025-07-18 11:01:43 | INFO     | create_stndmesh           | Element volume statistics: 1.036 ± 0.198 mm³
2025-07-18 11:01:43 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 11:01:43 | INFO     | assign_optical_properties | Starting optical property assignment for 1 tissue regions
2025-07-18 11:01:43 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 11:01:43 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 11:01:43 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 11:01:43 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 11:01:43 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 4,742 surface voxels identified
2025-07-18 11:01:43 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 11:01:43 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 20mm radius patch (SDS range: 10-40mm)
2025-07-18 11:01:43 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=20mm, min_voxels=100)
2025-07-18 11:01:43 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 4,742/4,742 valid centers (100.0%)
2025-07-18 11:01:43 | INFO     | build_patch_based_probe_layout | Selected patch center: (23.0, 32.0, 4.0)
2025-07-18 11:01:43 | INFO     | build_patch_based_probe_layout | Patch created: 1,011 surface voxels within 20mm radius
2025-07-18 11:01:43 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 11:01:43 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 11:01:43 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 11:01:43 | INFO     | main                      | Generated PNG visualization for phantom 3 probe 1 (saved to ../data/phantom_03/probe_001.png)
2025-07-18 11:01:43 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 11:01:43 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 11:01:44 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 11:01:55 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 11:01:55 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_03/phantom_003_scan.h5
2025-07-18 11:01:55 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_03/phantom_003_scan.h5 (2.1 MB)
2025-07-18 11:01:55 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 11:01:55 | INFO     | main                      | ✓ PHANTOM 03 COMPLETED in 14.8s
2025-07-18 11:01:55 | INFO     | main                      | ============================================================
2025-07-18 11:01:55 | INFO     | main                      | GENERATING PHANTOM 04/5
2025-07-18 11:01:55 | INFO     | main                      | ============================================================
2025-07-18 11:01:55 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 11:01:55 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 4 tumor(s) with enhanced spatial constraints
2025-07-18 11:01:55 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 4/4 tumors in tissue
2025-07-18 11:01:55 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 32.4% tissue coverage
2025-07-18 11:01:55 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 11:01:55 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 11:01:58 | INFO     | mesh_volume               | ✓ Mesh generation completed - 39,160 tetrahedra, 7,270 nodes
2025-07-18 11:01:58 | INFO     | create_stndmesh           | Mesh statistics: 39160 tetrahedra, 7270 nodes
2025-07-18 11:01:58 | INFO     | create_stndmesh           | Element volume statistics: 1.029 ± 0.214 mm³
2025-07-18 11:01:58 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 11:01:58 | INFO     | assign_optical_properties | Starting optical property assignment for 5 tissue regions
2025-07-18 11:01:58 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 11:01:58 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 11:01:58 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 11:01:58 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 11:01:58 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 4,592 surface voxels identified
2025-07-18 11:01:58 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 11:01:58 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 20mm radius patch (SDS range: 10-40mm)
2025-07-18 11:01:58 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=20mm, min_voxels=100)
2025-07-18 11:01:58 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 4,592/4,592 valid centers (100.0%)
2025-07-18 11:01:58 | INFO     | build_patch_based_probe_layout | Selected patch center: (17.0, 43.0, 18.0)
2025-07-18 11:01:58 | INFO     | build_patch_based_probe_layout | Patch created: 1,071 surface voxels within 20mm radius
2025-07-18 11:01:58 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 11:01:58 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 11:01:58 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 11:01:58 | INFO     | main                      | Generated PNG visualization for phantom 4 probe 1 (saved to ../data/phantom_04/probe_001.png)
2025-07-18 11:01:58 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 11:01:58 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 11:01:59 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 11:02:09 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 11:02:09 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_04/phantom_004_scan.h5
2025-07-18 11:02:09 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_04/phantom_004_scan.h5 (2.1 MB)
2025-07-18 11:02:09 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 11:02:09 | INFO     | main                      | ✓ PHANTOM 04 COMPLETED in 13.7s
2025-07-18 11:02:09 | INFO     | main                      | ============================================================
2025-07-18 11:02:09 | INFO     | main                      | GENERATING PHANTOM 05/5
2025-07-18 11:02:09 | INFO     | main                      | ============================================================
2025-07-18 11:02:09 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 11:02:09 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 11:02:09 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 11:02:09 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 29.6% tissue coverage
2025-07-18 11:02:09 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 11:02:09 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 11:02:11 | INFO     | mesh_volume               | ✓ Mesh generation completed - 35,601 tetrahedra, 6,632 nodes
2025-07-18 11:02:11 | INFO     | create_stndmesh           | Mesh statistics: 35601 tetrahedra, 6632 nodes
2025-07-18 11:02:11 | INFO     | create_stndmesh           | Element volume statistics: 1.031 ± 0.206 mm³
2025-07-18 11:02:11 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 11:02:11 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 11:02:11 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 11:02:11 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (50, 50, 50, 2)
2025-07-18 11:02:11 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 11:02:11 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 11:02:11 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 4,308 surface voxels identified
2025-07-18 11:02:11 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 11:02:11 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 20mm radius patch (SDS range: 10-40mm)
2025-07-18 11:02:11 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=20mm, min_voxels=100)
2025-07-18 11:02:11 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 4,308/4,308 valid centers (100.0%)
2025-07-18 11:02:11 | INFO     | build_patch_based_probe_layout | Selected patch center: (25.0, 42.0, 35.0)
2025-07-18 11:02:11 | INFO     | build_patch_based_probe_layout | Patch created: 1,053 surface voxels within 20mm radius
2025-07-18 11:02:11 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 11:02:11 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 11:02:11 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 11:02:12 | INFO     | main                      | Generated PNG visualization for phantom 5 probe 1 (saved to ../data/phantom_05/probe_001.png)
2025-07-18 11:02:12 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 11:02:12 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 11:02:12 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 11:02:22 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 11:02:22 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_05/phantom_005_scan.h5
2025-07-18 11:02:22 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_05/phantom_005_scan.h5 (2.1 MB)
2025-07-18 11:02:22 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 11:02:22 | INFO     | main                      | ✓ PHANTOM 05 COMPLETED in 13.4s
2025-07-18 11:02:22 | INFO     | main                      | ================================================================================
2025-07-18 11:02:22 | INFO     | main                      | BATCH GENERATION COMPLETED SUCCESSFULLY
2025-07-18 11:02:22 | INFO     | main                      | ================================================================================
2025-07-18 11:02:22 | INFO     | main                      | Generated 5 complete phantom datasets
2025-07-18 11:02:22 | INFO     | main                      | Total processing time: 13.4s
2025-07-18 11:02:22 | INFO     | main                      | Output location: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 11:02:22 | INFO     | main                      | Dataset contents per phantom:
2025-07-18 11:02:22 | INFO     | main                      |   • HDF5 file with measurements, geometry, and ground truth
2025-07-18 11:02:22 | INFO     | main                      |   • Sample probe visualization (probe_001.png) for professor demonstration
2025-07-18 11:02:22 | INFO     | main                      |   • Enhanced visualizations enabled for development
2025-07-18 11:02:22 | INFO     | main                      |   • Complete metadata for reproducibility
2025-07-18 11:02:22 | INFO     | main                      | All phantoms generated and saved successfully!
2025-07-18 12:02:11 | INFO     | main                      | ================================================================================
2025-07-18 12:02:11 | INFO     | main                      | STARTING NIR PHANTOM DATASET GENERATION PIPELINE
2025-07-18 12:02:11 | INFO     | main                      | ================================================================================
2025-07-18 12:02:11 | INFO     | main                      | Output directory: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 12:02:11 | INFO     | main                      | Log file: ../logging.log
2025-07-18 12:02:11 | INFO     | main                      | Visualization mode: ENABLED (Development)
2025-07-18 12:02:11 | INFO     | main                      | Generating 5 phantom datasets for machine learning training
2025-07-18 12:02:11 | INFO     | main                      | Expected dataset size: 5 phantoms × 500 probes × 3 detectors = 7,500 tokens
2025-07-18 12:02:11 | INFO     | main                      | ============================================================
2025-07-18 12:02:11 | INFO     | main                      | GENERATING PHANTOM 01/5
2025-07-18 12:02:11 | INFO     | main                      | ============================================================
2025-07-18 12:02:11 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 12:02:11 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 1 tumor(s) with enhanced spatial constraints
2025-07-18 12:02:11 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 1/1 tumors in tissue
2025-07-18 12:02:11 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 32.6% tissue coverage
2025-07-18 12:02:11 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 12:02:11 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:02:15 | INFO     | mesh_volume               | ✓ Mesh generation completed - 67,916 tetrahedra, 12,329 nodes
2025-07-18 12:02:16 | INFO     | create_stndmesh           | Mesh statistics: 67916 tetrahedra, 12329 nodes
2025-07-18 12:02:16 | INFO     | create_stndmesh           | Element volume statistics: 1.034 ± 0.202 mm³
2025-07-18 12:02:16 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 12:02:16 | INFO     | assign_optical_properties | Starting optical property assignment for 2 tissue regions
2025-07-18 12:02:16 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:02:16 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:02:16 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 12:02:16 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:02:16 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,686 surface voxels identified
2025-07-18 12:02:16 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:02:16 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:02:16 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:02:16 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,686/6,686 valid centers (100.0%)
2025-07-18 12:02:16 | INFO     | build_patch_based_probe_layout | Selected patch center: (6.0, 26.0, 25.0)
2025-07-18 12:02:16 | INFO     | build_patch_based_probe_layout | Patch created: 2,370 surface voxels within 30mm radius
2025-07-18 12:02:16 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:02:16 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:02:16 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 12:03:49 | INFO     | main                      | Generated INTERACTIVE 3D visualization for phantom 1 probe 1 (for professor demo)
2025-07-18 12:03:49 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 12:03:49 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 12:03:50 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 12:04:03 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 12:04:03 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_01/phantom_001_scan.h5
2025-07-18 12:04:03 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_01/phantom_001_scan.h5 (3.6 MB)
2025-07-18 12:04:03 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:04:03 | INFO     | main                      | ✓ PHANTOM 01 COMPLETED in 112.8s
2025-07-18 12:04:03 | INFO     | main                      | ============================================================
2025-07-18 12:04:03 | INFO     | main                      | GENERATING PHANTOM 02/5
2025-07-18 12:04:03 | INFO     | main                      | ============================================================
2025-07-18 12:04:03 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 12:04:03 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 12:04:03 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 12:04:03 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 35.4% tissue coverage
2025-07-18 12:04:03 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 12:04:03 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:04:09 | INFO     | mesh_volume               | ✓ Mesh generation completed - 73,661 tetrahedra, 13,340 nodes
2025-07-18 12:04:09 | INFO     | create_stndmesh           | Mesh statistics: 73661 tetrahedra, 13340 nodes
2025-07-18 12:04:09 | INFO     | create_stndmesh           | Element volume statistics: 1.033 ± 0.202 mm³
2025-07-18 12:04:09 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 12:04:09 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 12:04:09 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:04:09 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:04:09 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 12:04:09 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:04:09 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 7,074 surface voxels identified
2025-07-18 12:04:09 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:04:09 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:04:09 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:04:09 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 7,074/7,074 valid centers (100.0%)
2025-07-18 12:04:09 | INFO     | build_patch_based_probe_layout | Selected patch center: (50.0, 22.0, 44.0)
2025-07-18 12:04:09 | INFO     | build_patch_based_probe_layout | Patch created: 2,387 surface voxels within 30mm radius
2025-07-18 12:04:09 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:04:09 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:04:09 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 12:04:10 | INFO     | main                      | Generated PNG visualization for phantom 2 probe 1 (saved to ../data/phantom_02/probe_001.png)
2025-07-18 12:04:10 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 12:04:10 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 12:04:10 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 12:04:24 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 12:04:24 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_02/phantom_002_scan.h5
2025-07-18 12:04:24 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_02/phantom_002_scan.h5 (3.6 MB)
2025-07-18 12:04:24 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:04:24 | INFO     | main                      | ✓ PHANTOM 02 COMPLETED in 20.4s
2025-07-18 12:04:24 | INFO     | main                      | ============================================================
2025-07-18 12:04:24 | INFO     | main                      | GENERATING PHANTOM 03/5
2025-07-18 12:04:24 | INFO     | main                      | ============================================================
2025-07-18 12:04:24 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 12:04:24 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 0 tumor(s) with enhanced spatial constraints
2025-07-18 12:04:24 | INFO     | build_phantom_with_tissue_and_tumours | No tumors placed in this phantom
2025-07-18 12:04:24 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 32.7% tissue coverage
2025-07-18 12:04:24 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 12:04:24 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:04:28 | INFO     | mesh_volume               | ✓ Mesh generation completed - 67,751 tetrahedra, 12,320 nodes
2025-07-18 12:04:29 | INFO     | create_stndmesh           | Mesh statistics: 67751 tetrahedra, 12320 nodes
2025-07-18 12:04:29 | INFO     | create_stndmesh           | Element volume statistics: 1.038 ± 0.194 mm³
2025-07-18 12:04:29 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 12:04:29 | INFO     | assign_optical_properties | Starting optical property assignment for 1 tissue regions
2025-07-18 12:04:29 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:04:29 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:04:29 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 12:04:29 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:04:29 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,706 surface voxels identified
2025-07-18 12:04:29 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:04:29 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:04:29 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:04:29 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,706/6,706 valid centers (100.0%)
2025-07-18 12:04:29 | INFO     | build_patch_based_probe_layout | Selected patch center: (28.0, 10.0, 47.0)
2025-07-18 12:04:29 | INFO     | build_patch_based_probe_layout | Patch created: 2,353 surface voxels within 30mm radius
2025-07-18 12:04:29 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:04:29 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:04:29 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 12:04:29 | INFO     | main                      | Generated PNG visualization for phantom 3 probe 1 (saved to ../data/phantom_03/probe_001.png)
2025-07-18 12:04:29 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 12:04:29 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 12:04:30 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 12:04:43 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 12:04:43 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_03/phantom_003_scan.h5
2025-07-18 12:04:43 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_03/phantom_003_scan.h5 (3.6 MB)
2025-07-18 12:04:43 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:04:43 | INFO     | main                      | ✓ PHANTOM 03 COMPLETED in 19.3s
2025-07-18 12:04:43 | INFO     | main                      | ============================================================
2025-07-18 12:04:43 | INFO     | main                      | GENERATING PHANTOM 04/5
2025-07-18 12:04:43 | INFO     | main                      | ============================================================
2025-07-18 12:04:43 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 12:04:43 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 4 tumor(s) with enhanced spatial constraints
2025-07-18 12:04:43 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 4/4 tumors in tissue
2025-07-18 12:04:43 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 31.5% tissue coverage
2025-07-18 12:04:43 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 12:04:43 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:04:48 | INFO     | mesh_volume               | ✓ Mesh generation completed - 65,598 tetrahedra, 11,904 nodes
2025-07-18 12:04:48 | INFO     | create_stndmesh           | Mesh statistics: 65598 tetrahedra, 11904 nodes
2025-07-18 12:04:48 | INFO     | create_stndmesh           | Element volume statistics: 1.031 ± 0.207 mm³
2025-07-18 12:04:48 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 12:04:48 | INFO     | assign_optical_properties | Starting optical property assignment for 5 tissue regions
2025-07-18 12:04:48 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:04:48 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:04:48 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 12:04:48 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:04:48 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,528 surface voxels identified
2025-07-18 12:04:48 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:04:48 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:04:48 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:04:48 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,528/6,528 valid centers (100.0%)
2025-07-18 12:04:48 | INFO     | build_patch_based_probe_layout | Selected patch center: (21.0, 20.0, 52.0)
2025-07-18 12:04:48 | INFO     | build_patch_based_probe_layout | Patch created: 2,340 surface voxels within 30mm radius
2025-07-18 12:04:48 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:04:48 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:04:48 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 12:04:48 | INFO     | main                      | Generated PNG visualization for phantom 4 probe 1 (saved to ../data/phantom_04/probe_001.png)
2025-07-18 12:04:48 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 12:04:48 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 12:04:49 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 12:05:01 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 12:05:01 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_04/phantom_004_scan.h5
2025-07-18 12:05:01 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_04/phantom_004_scan.h5 (3.6 MB)
2025-07-18 12:05:01 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:05:01 | INFO     | main                      | ✓ PHANTOM 04 COMPLETED in 18.2s
2025-07-18 12:05:01 | INFO     | main                      | ============================================================
2025-07-18 12:05:01 | INFO     | main                      | GENERATING PHANTOM 05/5
2025-07-18 12:05:01 | INFO     | main                      | ============================================================
2025-07-18 12:05:01 | INFO     | main                      | Step 1/6: Constructing phantom geometry
2025-07-18 12:05:01 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 12:05:01 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 12:05:01 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 29.1% tissue coverage
2025-07-18 12:05:01 | INFO     | main                      | Step 2/6: Generating finite element mesh
2025-07-18 12:05:01 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:05:06 | INFO     | mesh_volume               | ✓ Mesh generation completed - 60,536 tetrahedra, 11,021 nodes
2025-07-18 12:05:06 | INFO     | create_stndmesh           | Mesh statistics: 60536 tetrahedra, 11021 nodes
2025-07-18 12:05:06 | INFO     | create_stndmesh           | Element volume statistics: 1.033 ± 0.203 mm³
2025-07-18 12:05:06 | INFO     | main                      | Step 3/6: Assigning optical properties
2025-07-18 12:05:06 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 12:05:06 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:05:06 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:05:06 | INFO     | main                      | Step 4/6: Generating patch-based probe layout
2025-07-18 12:05:06 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:05:06 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,188 surface voxels identified
2025-07-18 12:05:06 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:05:06 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:05:06 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:05:06 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,188/6,188 valid centers (100.0%)
2025-07-18 12:05:06 | INFO     | build_patch_based_probe_layout | Selected patch center: (30.0, 52.0, 40.0)
2025-07-18 12:05:06 | INFO     | build_patch_based_probe_layout | Patch created: 2,345 surface voxels within 30mm radius
2025-07-18 12:05:06 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:05:06 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:05:06 | INFO     | main                      | Step 5/6: Generating probe visualizations
2025-07-18 12:05:06 | INFO     | main                      | Generated PNG visualization for phantom 5 probe 1 (saved to ../data/phantom_05/probe_001.png)
2025-07-18 12:05:06 | INFO     | main                      | Step 6/6: Running frequency-domain simulation
2025-07-18 12:05:06 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout
2025-07-18 12:05:07 | INFO     | run_fd_simulation_and_save | Starting FD simulation (frequency: 140.0 MHz)
2025-07-18 12:05:19 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully
2025-07-18 12:05:19 | INFO     | run_fd_simulation_and_save | Saving dataset to ../data/phantom_05/phantom_005_scan.h5
2025-07-18 12:05:19 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_05/phantom_005_scan.h5 (3.6 MB)
2025-07-18 12:05:19 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:05:19 | INFO     | main                      | ✓ PHANTOM 05 COMPLETED in 17.6s
2025-07-18 12:05:19 | INFO     | main                      | ================================================================================
2025-07-18 12:05:19 | INFO     | main                      | BATCH GENERATION COMPLETED SUCCESSFULLY
2025-07-18 12:05:19 | INFO     | main                      | ================================================================================
2025-07-18 12:05:19 | INFO     | main                      | Generated 5 complete phantom datasets
2025-07-18 12:05:19 | INFO     | main                      | Total processing time: 17.6s
2025-07-18 12:05:19 | INFO     | main                      | Output location: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 12:05:19 | INFO     | main                      | Dataset contents per phantom:
2025-07-18 12:05:19 | INFO     | main                      |   • HDF5 file with measurements, geometry, and ground truth
2025-07-18 12:05:19 | INFO     | main                      |   • Sample probe visualization (probe_001.png) for professor demonstration
2025-07-18 12:05:19 | INFO     | main                      |   • Enhanced visualizations enabled for development
2025-07-18 12:05:19 | INFO     | main                      |   • Complete metadata for reproducibility
2025-07-18 12:05:19 | INFO     | main                      | All phantoms generated and saved successfully!
2025-07-18 12:31:41 | INFO     | main                      | ================================================================================
2025-07-18 12:31:41 | INFO     | main                      | STARTING NIR FREQUENCY-DOMAIN PHANTOM DATASET GENERATION PIPELINE
2025-07-18 12:31:41 | INFO     | main                      | ================================================================================
2025-07-18 12:31:41 | INFO     | main                      | Output directory: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 12:31:41 | INFO     | main                      | Log file: ../logging.log
2025-07-18 12:31:41 | INFO     | main                      | Visualization mode: ENABLED (Development)
2025-07-18 12:31:41 | INFO     | main                      | Generating 10 phantom datasets for machine learning training
2025-07-18 12:31:41 | INFO     | main                      | Expected measurement count: 10 phantoms × 500 probes × 3 detectors = 15,000 measurements
2025-07-18 12:31:41 | INFO     | main                      | Estimated dataset size: ~0.1 MB (float64 measurements)
2025-07-18 12:31:41 | INFO     | main                      | ============================================================
2025-07-18 12:31:41 | INFO     | main                      | GENERATING PHANTOM 01/10
2025-07-18 12:31:41 | INFO     | main                      | ============================================================
2025-07-18 12:31:41 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:31:41 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 1 tumor(s) with enhanced spatial constraints
2025-07-18 12:31:41 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 1/1 tumors in tissue
2025-07-18 12:31:41 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 32.6% tissue coverage
2025-07-18 12:31:41 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:31:41 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:31:46 | INFO     | mesh_volume               | ✓ Mesh generation completed - 67,916 tetrahedra, 12,329 nodes
2025-07-18 12:31:47 | INFO     | create_stndmesh           | Mesh statistics: 67916 tetrahedra, 12329 nodes
2025-07-18 12:31:47 | INFO     | create_stndmesh           | Element volume statistics: 1.034 ± 0.202 mm³
2025-07-18 12:31:47 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:31:47 | INFO     | assign_optical_properties | Starting optical property assignment for 2 tissue regions
2025-07-18 12:31:47 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:31:47 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:31:47 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:31:47 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:31:47 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,686 surface voxels identified
2025-07-18 12:31:47 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:31:47 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:31:47 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:31:47 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,686/6,686 valid centers (100.0%)
2025-07-18 12:31:47 | INFO     | build_patch_based_probe_layout | Selected patch center: (6.0, 26.0, 25.0)
2025-07-18 12:31:47 | INFO     | build_patch_based_probe_layout | Patch created: 2,370 surface voxels within 30mm radius
2025-07-18 12:31:47 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:31:47 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:31:47 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:32:13 | INFO     | main                      | Generated INTERACTIVE 3D visualization for phantom 1 probe 1 (demonstration mode)
2025-07-18 12:32:13 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:32:13 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:32:14 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:32:27 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 13.2s
2025-07-18 12:32:27 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_01/phantom_001_scan.h5
2025-07-18 12:32:27 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_01/phantom_001_scan.h5 (0.4 MB)
2025-07-18 12:32:27 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:32:27 | INFO     | main                      | ✓ PHANTOM 01 COMPLETED in 46.0s
2025-07-18 12:32:27 | INFO     | main                      | ============================================================
2025-07-18 12:32:27 | INFO     | main                      | GENERATING PHANTOM 02/10
2025-07-18 12:32:27 | INFO     | main                      | ============================================================
2025-07-18 12:32:27 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:32:27 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 12:32:27 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 12:32:27 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 35.4% tissue coverage
2025-07-18 12:32:27 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:32:27 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:32:33 | INFO     | mesh_volume               | ✓ Mesh generation completed - 73,661 tetrahedra, 13,340 nodes
2025-07-18 12:32:33 | INFO     | create_stndmesh           | Mesh statistics: 73661 tetrahedra, 13340 nodes
2025-07-18 12:32:33 | INFO     | create_stndmesh           | Element volume statistics: 1.033 ± 0.202 mm³
2025-07-18 12:32:33 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:32:33 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 12:32:33 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:32:33 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:32:33 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:32:33 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:32:33 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 7,074 surface voxels identified
2025-07-18 12:32:33 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:32:33 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:32:33 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:32:33 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 7,074/7,074 valid centers (100.0%)
2025-07-18 12:32:33 | INFO     | build_patch_based_probe_layout | Selected patch center: (50.0, 22.0, 44.0)
2025-07-18 12:32:33 | INFO     | build_patch_based_probe_layout | Patch created: 2,387 surface voxels within 30mm radius
2025-07-18 12:32:33 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:32:33 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:32:33 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:32:34 | INFO     | main                      | Generated static PNG visualization for phantom 2 probe 1 (batch processing mode)
2025-07-18 12:32:34 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:32:34 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:32:34 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:32:49 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 14.9s
2025-07-18 12:32:49 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_02/phantom_002_scan.h5
2025-07-18 12:32:49 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_02/phantom_002_scan.h5 (0.4 MB)
2025-07-18 12:32:49 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:32:49 | INFO     | main                      | ✓ PHANTOM 02 COMPLETED in 22.0s
2025-07-18 12:32:49 | INFO     | main                      | ============================================================
2025-07-18 12:32:49 | INFO     | main                      | GENERATING PHANTOM 03/10
2025-07-18 12:32:49 | INFO     | main                      | ============================================================
2025-07-18 12:32:49 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:32:49 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 0 tumor(s) with enhanced spatial constraints
2025-07-18 12:32:49 | INFO     | build_phantom_with_tissue_and_tumours | No tumors placed in this phantom
2025-07-18 12:32:49 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 32.7% tissue coverage
2025-07-18 12:32:49 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:32:49 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:32:54 | INFO     | mesh_volume               | ✓ Mesh generation completed - 67,751 tetrahedra, 12,320 nodes
2025-07-18 12:32:55 | INFO     | create_stndmesh           | Mesh statistics: 67751 tetrahedra, 12320 nodes
2025-07-18 12:32:55 | INFO     | create_stndmesh           | Element volume statistics: 1.038 ± 0.194 mm³
2025-07-18 12:32:55 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:32:55 | INFO     | assign_optical_properties | Starting optical property assignment for 1 tissue regions
2025-07-18 12:32:55 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:32:55 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:32:55 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:32:55 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:32:55 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,706 surface voxels identified
2025-07-18 12:32:55 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:32:55 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:32:55 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:32:55 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,706/6,706 valid centers (100.0%)
2025-07-18 12:32:55 | INFO     | build_patch_based_probe_layout | Selected patch center: (28.0, 10.0, 47.0)
2025-07-18 12:32:55 | INFO     | build_patch_based_probe_layout | Patch created: 2,353 surface voxels within 30mm radius
2025-07-18 12:32:55 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:32:55 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:32:55 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:32:55 | INFO     | main                      | Generated static PNG visualization for phantom 3 probe 1 (batch processing mode)
2025-07-18 12:32:55 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:32:55 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:32:56 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:33:11 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 15.3s
2025-07-18 12:33:11 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_03/phantom_003_scan.h5
2025-07-18 12:33:11 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_03/phantom_003_scan.h5 (0.4 MB)
2025-07-18 12:33:11 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:33:11 | INFO     | main                      | ✓ PHANTOM 03 COMPLETED in 21.6s
2025-07-18 12:33:11 | INFO     | main                      | ============================================================
2025-07-18 12:33:11 | INFO     | main                      | GENERATING PHANTOM 04/10
2025-07-18 12:33:11 | INFO     | main                      | ============================================================
2025-07-18 12:33:11 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:33:11 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 4 tumor(s) with enhanced spatial constraints
2025-07-18 12:33:11 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 4/4 tumors in tissue
2025-07-18 12:33:11 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 31.5% tissue coverage
2025-07-18 12:33:11 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:33:11 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:33:16 | INFO     | mesh_volume               | ✓ Mesh generation completed - 65,598 tetrahedra, 11,904 nodes
2025-07-18 12:33:16 | INFO     | create_stndmesh           | Mesh statistics: 65598 tetrahedra, 11904 nodes
2025-07-18 12:33:16 | INFO     | create_stndmesh           | Element volume statistics: 1.031 ± 0.207 mm³
2025-07-18 12:33:16 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:33:16 | INFO     | assign_optical_properties | Starting optical property assignment for 5 tissue regions
2025-07-18 12:33:16 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:33:16 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:33:16 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:33:16 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:33:16 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,528 surface voxels identified
2025-07-18 12:33:16 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:33:16 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:33:16 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:33:16 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,528/6,528 valid centers (100.0%)
2025-07-18 12:33:16 | INFO     | build_patch_based_probe_layout | Selected patch center: (21.0, 20.0, 52.0)
2025-07-18 12:33:16 | INFO     | build_patch_based_probe_layout | Patch created: 2,340 surface voxels within 30mm radius
2025-07-18 12:33:16 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:33:16 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:33:16 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:33:17 | INFO     | main                      | Generated static PNG visualization for phantom 4 probe 1 (batch processing mode)
2025-07-18 12:33:17 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:33:17 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:33:17 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:33:32 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 14.7s
2025-07-18 12:33:32 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_04/phantom_004_scan.h5
2025-07-18 12:33:32 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_04/phantom_004_scan.h5 (0.4 MB)
2025-07-18 12:33:32 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:33:32 | INFO     | main                      | ✓ PHANTOM 04 COMPLETED in 21.2s
2025-07-18 12:33:32 | INFO     | main                      | ============================================================
2025-07-18 12:33:32 | INFO     | main                      | GENERATING PHANTOM 05/10
2025-07-18 12:33:32 | INFO     | main                      | ============================================================
2025-07-18 12:33:32 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:33:32 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 12:33:32 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 12:33:32 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 29.1% tissue coverage
2025-07-18 12:33:32 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:33:32 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:33:37 | INFO     | mesh_volume               | ✓ Mesh generation completed - 60,536 tetrahedra, 11,021 nodes
2025-07-18 12:33:37 | INFO     | create_stndmesh           | Mesh statistics: 60536 tetrahedra, 11021 nodes
2025-07-18 12:33:37 | INFO     | create_stndmesh           | Element volume statistics: 1.033 ± 0.203 mm³
2025-07-18 12:33:37 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:33:37 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 12:33:37 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:33:37 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:33:37 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:33:37 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:33:37 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,188 surface voxels identified
2025-07-18 12:33:37 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:33:37 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:33:37 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:33:37 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,188/6,188 valid centers (100.0%)
2025-07-18 12:33:37 | INFO     | build_patch_based_probe_layout | Selected patch center: (30.0, 52.0, 40.0)
2025-07-18 12:33:37 | INFO     | build_patch_based_probe_layout | Patch created: 2,345 surface voxels within 30mm radius
2025-07-18 12:33:37 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:33:37 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:33:37 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:33:38 | INFO     | main                      | Generated static PNG visualization for phantom 5 probe 1 (batch processing mode)
2025-07-18 12:33:38 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:33:38 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:33:38 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:36:59 | INFO     | main                      | ================================================================================
2025-07-18 12:36:59 | INFO     | main                      | STARTING NIR FREQUENCY-DOMAIN PHANTOM DATASET GENERATION PIPELINE
2025-07-18 12:36:59 | INFO     | main                      | ================================================================================
2025-07-18 12:36:59 | INFO     | main                      | Output directory: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 12:36:59 | INFO     | main                      | Log file: ../logging.log
2025-07-18 12:36:59 | INFO     | main                      | Visualization mode: ENABLED (Development)
2025-07-18 12:36:59 | INFO     | main                      | Generating 10 phantom datasets for machine learning training
2025-07-18 12:36:59 | INFO     | main                      | Expected measurement count: 10 phantoms × 500 probes × 3 detectors = 15,000 measurements
2025-07-18 12:36:59 | INFO     | main                      | Estimated dataset size: ~0.1 MB (float64 measurements)
2025-07-18 12:36:59 | INFO     | main                      | ============================================================
2025-07-18 12:36:59 | INFO     | main                      | GENERATING PHANTOM 01/10
2025-07-18 12:36:59 | INFO     | main                      | ============================================================
2025-07-18 12:36:59 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:36:59 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 1 tumor(s) with enhanced spatial constraints
2025-07-18 12:36:59 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 1/1 tumors in tissue
2025-07-18 12:36:59 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 32.6% tissue coverage
2025-07-18 12:36:59 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:36:59 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:37:04 | INFO     | mesh_volume               | ✓ Mesh generation completed - 67,916 tetrahedra, 12,329 nodes
2025-07-18 12:37:04 | INFO     | create_stndmesh           | Mesh statistics: 67916 tetrahedra, 12329 nodes
2025-07-18 12:37:04 | INFO     | create_stndmesh           | Element volume statistics: 1.034 ± 0.202 mm³
2025-07-18 12:37:04 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:37:04 | INFO     | assign_optical_properties | Starting optical property assignment for 2 tissue regions
2025-07-18 12:37:04 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:37:04 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:37:04 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:37:04 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:37:04 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,686 surface voxels identified
2025-07-18 12:37:04 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:37:04 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:37:04 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:37:04 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,686/6,686 valid centers (100.0%)
2025-07-18 12:37:04 | INFO     | build_patch_based_probe_layout | Selected patch center: (6.0, 26.0, 25.0)
2025-07-18 12:37:04 | INFO     | build_patch_based_probe_layout | Patch created: 2,370 surface voxels within 30mm radius
2025-07-18 12:37:04 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:37:04 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:37:04 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:37:08 | INFO     | main                      | Generated INTERACTIVE 3D visualization for phantom 1 probe 1 (demonstration mode)
2025-07-18 12:37:08 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:37:08 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:37:08 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:37:21 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 12.6s
2025-07-18 12:37:21 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_01/phantom_001_scan.h5
2025-07-18 12:37:21 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_01/phantom_001_scan.h5 (0.4 MB)
2025-07-18 12:37:21 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:37:21 | INFO     | main                      | ✓ PHANTOM 01 COMPLETED in 22.3s
2025-07-18 12:37:21 | INFO     | main                      | ============================================================
2025-07-18 12:37:21 | INFO     | main                      | GENERATING PHANTOM 02/10
2025-07-18 12:37:21 | INFO     | main                      | ============================================================
2025-07-18 12:37:21 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:37:21 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 12:37:21 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 12:37:21 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 35.4% tissue coverage
2025-07-18 12:37:21 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:37:21 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:37:26 | INFO     | mesh_volume               | ✓ Mesh generation completed - 73,661 tetrahedra, 13,340 nodes
2025-07-18 12:37:26 | INFO     | create_stndmesh           | Mesh statistics: 73661 tetrahedra, 13340 nodes
2025-07-18 12:37:26 | INFO     | create_stndmesh           | Element volume statistics: 1.033 ± 0.202 mm³
2025-07-18 12:37:26 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:37:26 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 12:37:26 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:37:26 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:37:26 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:37:26 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:37:26 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 7,074 surface voxels identified
2025-07-18 12:37:26 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:37:26 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:37:26 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:37:26 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 7,074/7,074 valid centers (100.0%)
2025-07-18 12:37:26 | INFO     | build_patch_based_probe_layout | Selected patch center: (50.0, 22.0, 44.0)
2025-07-18 12:37:26 | INFO     | build_patch_based_probe_layout | Patch created: 2,387 surface voxels within 30mm radius
2025-07-18 12:37:26 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:37:26 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:37:26 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:37:27 | INFO     | main                      | Generated static PNG visualization for phantom 2 probe 1 (batch processing mode)
2025-07-18 12:37:27 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:37:27 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:37:27 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:37:41 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 13.9s
2025-07-18 12:37:41 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_02/phantom_002_scan.h5
2025-07-18 12:37:41 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_02/phantom_002_scan.h5 (0.4 MB)
2025-07-18 12:37:41 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:37:41 | INFO     | main                      | ✓ PHANTOM 02 COMPLETED in 20.5s
2025-07-18 12:37:41 | INFO     | main                      | ============================================================
2025-07-18 12:37:41 | INFO     | main                      | GENERATING PHANTOM 03/10
2025-07-18 12:37:41 | INFO     | main                      | ============================================================
2025-07-18 12:37:41 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:37:41 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 0 tumor(s) with enhanced spatial constraints
2025-07-18 12:37:41 | INFO     | build_phantom_with_tissue_and_tumours | No tumors placed in this phantom
2025-07-18 12:37:41 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 32.7% tissue coverage
2025-07-18 12:37:41 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:37:41 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:37:46 | INFO     | mesh_volume               | ✓ Mesh generation completed - 67,751 tetrahedra, 12,320 nodes
2025-07-18 12:37:46 | INFO     | create_stndmesh           | Mesh statistics: 67751 tetrahedra, 12320 nodes
2025-07-18 12:37:46 | INFO     | create_stndmesh           | Element volume statistics: 1.038 ± 0.194 mm³
2025-07-18 12:37:46 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:37:46 | INFO     | assign_optical_properties | Starting optical property assignment for 1 tissue regions
2025-07-18 12:37:46 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:37:46 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:37:46 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:37:46 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:37:46 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,706 surface voxels identified
2025-07-18 12:37:46 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:37:46 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:37:46 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:37:47 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,706/6,706 valid centers (100.0%)
2025-07-18 12:37:47 | INFO     | build_patch_based_probe_layout | Selected patch center: (28.0, 10.0, 47.0)
2025-07-18 12:37:47 | INFO     | build_patch_based_probe_layout | Patch created: 2,353 surface voxels within 30mm radius
2025-07-18 12:37:47 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:37:47 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:37:47 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:37:47 | INFO     | main                      | Generated static PNG visualization for phantom 3 probe 1 (batch processing mode)
2025-07-18 12:37:47 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:37:47 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:37:48 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:38:01 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 13.2s
2025-07-18 12:38:01 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_03/phantom_003_scan.h5
2025-07-18 12:38:01 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_03/phantom_003_scan.h5 (0.4 MB)
2025-07-18 12:38:01 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:38:01 | INFO     | main                      | ✓ PHANTOM 03 COMPLETED in 19.3s
2025-07-18 12:38:01 | INFO     | main                      | ============================================================
2025-07-18 12:38:01 | INFO     | main                      | GENERATING PHANTOM 04/10
2025-07-18 12:38:01 | INFO     | main                      | ============================================================
2025-07-18 12:38:01 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:38:01 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 4 tumor(s) with enhanced spatial constraints
2025-07-18 12:38:01 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 4/4 tumors in tissue
2025-07-18 12:38:01 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 31.5% tissue coverage
2025-07-18 12:38:01 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:38:01 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:38:05 | INFO     | mesh_volume               | ✓ Mesh generation completed - 65,598 tetrahedra, 11,904 nodes
2025-07-18 12:38:06 | INFO     | create_stndmesh           | Mesh statistics: 65598 tetrahedra, 11904 nodes
2025-07-18 12:38:06 | INFO     | create_stndmesh           | Element volume statistics: 1.031 ± 0.207 mm³
2025-07-18 12:38:06 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:38:06 | INFO     | assign_optical_properties | Starting optical property assignment for 5 tissue regions
2025-07-18 12:38:06 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:38:06 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:38:06 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:38:06 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:38:06 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,528 surface voxels identified
2025-07-18 12:38:06 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:38:06 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:38:06 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:38:06 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,528/6,528 valid centers (100.0%)
2025-07-18 12:38:06 | INFO     | build_patch_based_probe_layout | Selected patch center: (21.0, 20.0, 52.0)
2025-07-18 12:38:06 | INFO     | build_patch_based_probe_layout | Patch created: 2,340 surface voxels within 30mm radius
2025-07-18 12:38:06 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:38:06 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:38:06 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:38:06 | INFO     | main                      | Generated static PNG visualization for phantom 4 probe 1 (batch processing mode)
2025-07-18 12:38:06 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:38:06 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:38:07 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:38:19 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 12.1s
2025-07-18 12:38:19 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_04/phantom_004_scan.h5
2025-07-18 12:38:19 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_04/phantom_004_scan.h5 (0.4 MB)
2025-07-18 12:38:19 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:38:19 | INFO     | main                      | ✓ PHANTOM 04 COMPLETED in 18.2s
2025-07-18 12:38:19 | INFO     | main                      | ============================================================
2025-07-18 12:38:19 | INFO     | main                      | GENERATING PHANTOM 05/10
2025-07-18 12:38:19 | INFO     | main                      | ============================================================
2025-07-18 12:38:19 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:38:19 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 12:38:19 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 12:38:19 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 29.1% tissue coverage
2025-07-18 12:38:19 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:38:19 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:38:23 | INFO     | mesh_volume               | ✓ Mesh generation completed - 60,536 tetrahedra, 11,021 nodes
2025-07-18 12:38:23 | INFO     | create_stndmesh           | Mesh statistics: 60536 tetrahedra, 11021 nodes
2025-07-18 12:38:23 | INFO     | create_stndmesh           | Element volume statistics: 1.033 ± 0.203 mm³
2025-07-18 12:38:23 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:38:23 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 12:38:23 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:38:23 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:38:23 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:38:23 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:38:23 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,188 surface voxels identified
2025-07-18 12:38:23 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:38:23 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:38:23 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:38:24 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,188/6,188 valid centers (100.0%)
2025-07-18 12:38:24 | INFO     | build_patch_based_probe_layout | Selected patch center: (30.0, 52.0, 40.0)
2025-07-18 12:38:24 | INFO     | build_patch_based_probe_layout | Patch created: 2,345 surface voxels within 30mm radius
2025-07-18 12:38:24 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:38:24 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:38:24 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:38:24 | INFO     | main                      | Generated static PNG visualization for phantom 5 probe 1 (batch processing mode)
2025-07-18 12:38:24 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:38:24 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:38:25 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:38:36 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 11.7s
2025-07-18 12:38:36 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_05/phantom_005_scan.h5
2025-07-18 12:38:36 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_05/phantom_005_scan.h5 (0.4 MB)
2025-07-18 12:38:36 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:38:36 | INFO     | main                      | ✓ PHANTOM 05 COMPLETED in 17.2s
2025-07-18 12:38:36 | INFO     | main                      | ============================================================
2025-07-18 12:38:36 | INFO     | main                      | GENERATING PHANTOM 06/10
2025-07-18 12:38:36 | INFO     | main                      | ============================================================
2025-07-18 12:38:36 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:38:36 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 12:38:36 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 12:38:36 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 31.4% tissue coverage
2025-07-18 12:38:36 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:38:36 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:38:41 | INFO     | mesh_volume               | ✓ Mesh generation completed - 65,420 tetrahedra, 11,887 nodes
2025-07-18 12:38:41 | INFO     | create_stndmesh           | Mesh statistics: 65420 tetrahedra, 11887 nodes
2025-07-18 12:38:41 | INFO     | create_stndmesh           | Element volume statistics: 1.032 ± 0.202 mm³
2025-07-18 12:38:41 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:38:41 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 12:38:41 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:38:41 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:38:41 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:38:41 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:38:41 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,536 surface voxels identified
2025-07-18 12:38:41 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:38:41 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:38:41 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:38:41 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,536/6,536 valid centers (100.0%)
2025-07-18 12:38:41 | INFO     | build_patch_based_probe_layout | Selected patch center: (40.0, 43.0, 48.0)
2025-07-18 12:38:41 | INFO     | build_patch_based_probe_layout | Patch created: 2,405 surface voxels within 30mm radius
2025-07-18 12:38:41 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:38:41 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:38:41 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:38:42 | INFO     | main                      | Generated static PNG visualization for phantom 6 probe 1 (batch processing mode)
2025-07-18 12:38:42 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:38:42 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:38:42 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:38:54 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 11.8s
2025-07-18 12:38:54 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_06/phantom_006_scan.h5
2025-07-18 12:38:54 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_06/phantom_006_scan.h5 (0.4 MB)
2025-07-18 12:38:54 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:38:54 | INFO     | main                      | ✓ PHANTOM 06 COMPLETED in 17.9s
2025-07-18 12:38:54 | INFO     | main                      | ============================================================
2025-07-18 12:38:54 | INFO     | main                      | GENERATING PHANTOM 07/10
2025-07-18 12:38:54 | INFO     | main                      | ============================================================
2025-07-18 12:38:54 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:38:54 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 5 tumor(s) with enhanced spatial constraints
2025-07-18 12:38:54 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 5/5 tumors in tissue
2025-07-18 12:38:54 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 36.7% tissue coverage
2025-07-18 12:38:54 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:38:54 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:39:00 | INFO     | mesh_volume               | ✓ Mesh generation completed - 76,761 tetrahedra, 13,851 nodes
2025-07-18 12:39:00 | INFO     | create_stndmesh           | Mesh statistics: 76761 tetrahedra, 13851 nodes
2025-07-18 12:39:00 | INFO     | create_stndmesh           | Element volume statistics: 1.030 ± 0.205 mm³
2025-07-18 12:39:00 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:39:00 | INFO     | assign_optical_properties | Starting optical property assignment for 6 tissue regions
2025-07-18 12:39:00 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:39:00 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:39:00 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:39:00 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:39:00 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 7,252 surface voxels identified
2025-07-18 12:39:00 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:39:00 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:39:00 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:39:00 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 7,252/7,252 valid centers (100.0%)
2025-07-18 12:39:00 | INFO     | build_patch_based_probe_layout | Selected patch center: (33.0, 8.0, 44.0)
2025-07-18 12:39:00 | INFO     | build_patch_based_probe_layout | Patch created: 2,358 surface voxels within 30mm radius
2025-07-18 12:39:00 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:39:00 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:39:00 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:39:00 | INFO     | main                      | Generated static PNG visualization for phantom 7 probe 1 (batch processing mode)
2025-07-18 12:39:00 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:39:00 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:39:01 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:39:16 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 15.0s
2025-07-18 12:39:16 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_07/phantom_007_scan.h5
2025-07-18 12:39:16 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_07/phantom_007_scan.h5 (0.4 MB)
2025-07-18 12:39:16 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:39:16 | INFO     | main                      | ✓ PHANTOM 07 COMPLETED in 22.0s
2025-07-18 12:39:16 | INFO     | main                      | ============================================================
2025-07-18 12:39:16 | INFO     | main                      | GENERATING PHANTOM 08/10
2025-07-18 12:39:16 | INFO     | main                      | ============================================================
2025-07-18 12:39:16 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:39:16 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 1 tumor(s) with enhanced spatial constraints
2025-07-18 12:39:16 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 1/1 tumors in tissue
2025-07-18 12:39:16 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 35.3% tissue coverage
2025-07-18 12:39:16 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:39:16 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:39:21 | INFO     | mesh_volume               | ✓ Mesh generation completed - 73,013 tetrahedra, 13,228 nodes
2025-07-18 12:39:21 | INFO     | create_stndmesh           | Mesh statistics: 73013 tetrahedra, 13228 nodes
2025-07-18 12:39:21 | INFO     | create_stndmesh           | Element volume statistics: 1.040 ± 0.197 mm³
2025-07-18 12:39:21 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:39:21 | INFO     | assign_optical_properties | Starting optical property assignment for 2 tissue regions
2025-07-18 12:39:21 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:39:21 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:39:21 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:39:21 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:39:21 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 7,066 surface voxels identified
2025-07-18 12:39:21 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:39:21 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:39:21 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:39:22 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 7,066/7,066 valid centers (100.0%)
2025-07-18 12:39:22 | INFO     | build_patch_based_probe_layout | Selected patch center: (41.0, 48.0, 44.0)
2025-07-18 12:39:22 | INFO     | build_patch_based_probe_layout | Patch created: 2,440 surface voxels within 30mm radius
2025-07-18 12:39:22 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:39:22 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:39:22 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:39:22 | INFO     | main                      | Generated static PNG visualization for phantom 8 probe 1 (batch processing mode)
2025-07-18 12:39:22 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:39:22 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:39:23 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:39:37 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 14.7s
2025-07-18 12:39:37 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_08/phantom_008_scan.h5
2025-07-18 12:39:37 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_08/phantom_008_scan.h5 (0.4 MB)
2025-07-18 12:39:37 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:39:37 | INFO     | main                      | ✓ PHANTOM 08 COMPLETED in 21.2s
2025-07-18 12:39:37 | INFO     | main                      | ============================================================
2025-07-18 12:39:37 | INFO     | main                      | GENERATING PHANTOM 09/10
2025-07-18 12:39:37 | INFO     | main                      | ============================================================
2025-07-18 12:39:37 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:39:37 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 3 tumor(s) with enhanced spatial constraints
2025-07-18 12:39:37 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 3/3 tumors in tissue
2025-07-18 12:39:37 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 34.0% tissue coverage
2025-07-18 12:39:37 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:39:37 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:39:42 | INFO     | mesh_volume               | ✓ Mesh generation completed - 70,487 tetrahedra, 12,773 nodes
2025-07-18 12:39:43 | INFO     | create_stndmesh           | Mesh statistics: 70487 tetrahedra, 12773 nodes
2025-07-18 12:39:43 | INFO     | create_stndmesh           | Element volume statistics: 1.038 ± 0.204 mm³
2025-07-18 12:39:43 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:39:43 | INFO     | assign_optical_properties | Starting optical property assignment for 4 tissue regions
2025-07-18 12:39:43 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:39:43 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:39:43 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:39:43 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:39:43 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,882 surface voxels identified
2025-07-18 12:39:43 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:39:43 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:39:43 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:39:43 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,882/6,882 valid centers (100.0%)
2025-07-18 12:39:43 | INFO     | build_patch_based_probe_layout | Selected patch center: (28.0, 52.0, 41.0)
2025-07-18 12:39:43 | INFO     | build_patch_based_probe_layout | Patch created: 2,401 surface voxels within 30mm radius
2025-07-18 12:39:43 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:39:43 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:39:43 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:39:43 | INFO     | main                      | Generated static PNG visualization for phantom 9 probe 1 (batch processing mode)
2025-07-18 12:39:43 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:39:43 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:39:44 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:39:57 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 13.4s
2025-07-18 12:39:57 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_09/phantom_009_scan.h5
2025-07-18 12:39:57 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_09/phantom_009_scan.h5 (0.4 MB)
2025-07-18 12:39:57 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:39:57 | INFO     | main                      | ✓ PHANTOM 09 COMPLETED in 19.9s
2025-07-18 12:39:57 | INFO     | main                      | ============================================================
2025-07-18 12:39:57 | INFO     | main                      | GENERATING PHANTOM 10/10
2025-07-18 12:39:57 | INFO     | main                      | ============================================================
2025-07-18 12:39:57 | INFO     | main                      | Step 1/6: Constructing randomized phantom geometry with tissue and tumor embedding
2025-07-18 12:39:57 | INFO     | build_phantom_with_tissue_and_tumours | Embedding 4 tumor(s) with enhanced spatial constraints
2025-07-18 12:39:57 | INFO     | build_phantom_with_tissue_and_tumours | Successfully embedded 4/4 tumors in tissue
2025-07-18 12:39:57 | INFO     | build_phantom_with_tissue_and_tumours | Phantom construction completed - 32.7% tissue coverage
2025-07-18 12:39:57 | INFO     | main                      | Step 2/6: Generating CGAL-based tetrahedral finite element mesh
2025-07-18 12:39:57 | INFO     | mesh_volume               | Starting CGAL-based tetrahedral mesh generation (cell_size=1.65)
2025-07-18 12:40:02 | INFO     | mesh_volume               | ✓ Mesh generation completed - 68,220 tetrahedra, 12,371 nodes
2025-07-18 12:40:02 | INFO     | create_stndmesh           | Mesh statistics: 68220 tetrahedra, 12371 nodes
2025-07-18 12:40:02 | INFO     | create_stndmesh           | Element volume statistics: 1.029 ± 0.203 mm³
2025-07-18 12:40:02 | INFO     | main                      | Step 3/6: Assigning physiological optical properties and generating ground truth maps
2025-07-18 12:40:02 | INFO     | assign_optical_properties | Starting optical property assignment for 5 tissue regions
2025-07-18 12:40:02 | INFO     | assign_optical_properties | ✓ Optical properties assigned to mesh elements
2025-07-18 12:40:02 | INFO     | assign_optical_properties | ✓ Ground truth maps generated - shape (60, 60, 60, 2)
2025-07-18 12:40:02 | INFO     | main                      | Step 4/6: Extracting tissue surface and generating patch-based probe layout
2025-07-18 12:40:02 | INFO     | extract_surface_voxels    | Starting surface extraction (threshold=1)
2025-07-18 12:40:02 | INFO     | extract_surface_voxels    | ✓ Surface extraction completed - 6,712 surface voxels identified
2025-07-18 12:40:02 | INFO     | build_patch_based_probe_layout | Starting patch-based probe layout generation
2025-07-18 12:40:02 | INFO     | build_patch_based_probe_layout | Target: 500 probes in 30mm radius patch (SDS range: 10-40mm)
2025-07-18 12:40:02 | INFO     | find_safe_patch_centers   | Identifying safe patch centers (radius=30mm, min_voxels=500)
2025-07-18 12:40:02 | INFO     | find_safe_patch_centers   | ✓ Safe center identification completed - 6,712/6,712 valid centers (100.0%)
2025-07-18 12:40:02 | INFO     | build_patch_based_probe_layout | Selected patch center: (48.0, 21.0, 16.0)
2025-07-18 12:40:02 | INFO     | build_patch_based_probe_layout | Patch created: 2,413 surface voxels within 30mm radius
2025-07-18 12:40:02 | INFO     | build_patch_based_probe_layout | ✓ Patch-based probe layout completed
2025-07-18 12:40:02 | INFO     | build_patch_based_probe_layout | Successfully placed: 500/500 probes (1500 measurements)
2025-07-18 12:40:02 | INFO     | main                      | Step 5/6: Generating publication-quality probe visualization and geometric validation
2025-07-18 12:40:03 | INFO     | main                      | Generated static PNG visualization for phantom 10 probe 1 (batch processing mode)
2025-07-18 12:40:03 | INFO     | main                      | Step 6/6: Executing frequency-domain diffusion equation simulation and dataset generation
2025-07-18 12:40:03 | INFO     | run_fd_simulation_and_save | Configuring mesh with source-detector optode layout and geometric validation
2025-07-18 12:40:04 | INFO     | run_fd_simulation_and_save | Executing frequency-domain diffusion equation simulation (modulation: 140.0 MHz)
2025-07-18 12:40:17 | INFO     | run_fd_simulation_and_save | ✓ FD simulation completed successfully in 13.5s
2025-07-18 12:40:17 | INFO     | run_fd_simulation_and_save | Saving complete ML-ready dataset to ../data/phantom_10/phantom_010_scan.h5
2025-07-18 12:40:17 | INFO     | run_fd_simulation_and_save | ✓ Dataset saved successfully - ../data/phantom_10/phantom_010_scan.h5 (0.4 MB)
2025-07-18 12:40:17 | INFO     | run_fd_simulation_and_save | Final dataset: 500 probes × 3 detectors
2025-07-18 12:40:17 | INFO     | main                      | ✓ PHANTOM 10 COMPLETED in 19.9s
2025-07-18 12:40:17 | INFO     | main                      | ================================================================================
2025-07-18 12:40:17 | INFO     | main                      | NIR PHANTOM DATASET GENERATION PIPELINE COMPLETED SUCCESSFULLY
2025-07-18 12:40:17 | INFO     | main                      | ================================================================================
2025-07-18 12:40:17 | INFO     | main                      | Generated 10 complete phantom datasets with full ground truth
2025-07-18 12:40:17 | INFO     | main                      | Total processing time: 19.9s (2.0s per phantom)
2025-07-18 12:40:17 | INFO     | main                      | Generation rate: 30.1 phantoms/minute
2025-07-18 12:40:17 | INFO     | main                      | Dataset storage location: /Users/maxhart/Documents/MSc_AI_ML/Dissertation/gitlab/mah422/data
2025-07-18 12:40:17 | INFO     | main                      | 
Dataset Architecture and Contents:
2025-07-18 12:40:17 | INFO     | main                      | ==================================================
2025-07-18 12:40:17 | INFO     | main                      | Each phantom directory contains:
2025-07-18 12:40:17 | INFO     | main                      |   • HDF5 dataset file with complete measurement data
2025-07-18 12:40:17 | INFO     | main                      |     - Log-amplitude and phase measurements with realistic noise
2025-07-18 12:40:17 | INFO     | main                      |     - Source/detector positions and measurement connectivity
2025-07-18 12:40:17 | INFO     | main                      |     - Ground truth optical property maps (μₐ, μ′s)
2025-07-18 12:40:17 | INFO     | main                      |     - Complete geometry and metadata for reproducibility
2025-07-18 12:40:17 | INFO     | main                      |   • High-quality 3D visualization (probe_001.png)
2025-07-18 12:40:17 | INFO     | main                      |     - Publication-quality rendering for geometric validation
2025-07-18 12:40:17 | INFO     | main                      |     - Surface boundaries and patch regions clearly displayed
2025-07-18 12:40:17 | INFO     | main                      |     - Interactive mode enabled for first phantom (demonstration)
2025-07-18 12:40:17 | INFO     | main                      | 
Technical Dataset Specifications:
2025-07-18 12:40:17 | INFO     | main                      | ========================================
2025-07-18 12:40:17 | INFO     | main                      |   • Phantom dimensions: 60×60×60 voxels
2025-07-18 12:40:17 | INFO     | main                      |   • Tissue radius range: 24-28 mm
2025-07-18 12:40:17 | INFO     | main                      |   • Tumor radius range: 5-10 mm
2025-07-18 12:40:17 | INFO     | main                      |   • Probes per phantom: 500 sources × 3 detectors = 1,500 measurements
2025-07-18 12:40:17 | INFO     | main                      |   • Source-detector separation: 10-40mm (clinical range)
2025-07-18 12:40:17 | INFO     | main                      |   • Patch radius: 30mm (realistic probe array constraints)
2025-07-18 12:40:17 | INFO     | main                      |   • Frequency-domain modulation: 140 MHz
2025-07-18 12:40:17 | INFO     | main                      |   • Mesh cell size: 1.65mm (optimized for 800nm wavelength)
2025-07-18 12:40:17 | INFO     | main                      | 
================================================================================
2025-07-18 12:40:17 | INFO     | main                      | DATASET GENERATION COMPLETE - READY FOR MACHINE LEARNING TRAINING
2025-07-18 12:40:17 | INFO     | main                      | ================================================================================
2025-07-18 12:40:17 | INFO     | main                      | Next steps:
2025-07-18 12:40:17 | INFO     | main                      |   1. Validate dataset integrity using provided visualization tools
2025-07-18 12:40:17 | INFO     | main                      |   2. Load HDF5 files into machine learning framework of choice
2025-07-18 12:40:17 | INFO     | main                      |   3. Implement data loaders for batch training with proper normalization
2025-07-18 12:40:17 | INFO     | main                      |   4. Consider data augmentation strategies for enhanced generalization
2025-07-18 12:40:17 | INFO     | main                      |   5. Establish proper train/validation/test splits for robust evaluation
2025-07-18 12:40:17 | INFO     | main                      | 
✅ All phantom datasets generated successfully and ready for use!
